import{w as b}from"./with-props-DRM106Ts.js";import{v,a as s,o as t,t as c}from"./chunk-D4RADZKF-DUJFVFZr.js";import{u as T}from"./articlesStore-C2OzSC6v.js";import{A}from"./ArticleCard-DAKA9Mgc.js";import{L as k}from"./LoadingSpinner-njtnuVwo.js";import{B as h}from"./Button-D7YxVoDp.js";import{d as E,m as i}from"./utils-Dmsv2dCC.js";import{A as g}from"./arrow-left-CB9Wz_nk.js";import{T as p}from"./tag-DO6hg1IZ.js";import"./bookmark-CtmUuJhp.js";import"./user-bkK-Sprj.js";import"./calendar-sW80RKu2.js";import"./eye-D66ep1xE.js";import"./heart-BD4QhLHz.js";function G({params:m}){return[{title:`Tag: ${m.slug} - Techsy.News`},{name:"description",content:"Browse articles by tag on Techsy.News"}]}const I=b(function(){const{slug:r}=v(),{tags:n,fetchTags:y}=T(),[u,d]=s.useState(!0),[l,f]=s.useState(null),[o,j]=s.useState([]);s.useEffect(()=>{w()},[r]);const w=async()=>{d(!0);try{await y()}catch(e){console.error("Error loading tag data:",e)}finally{d(!1)}};s.useEffect(()=>{if(n.length>0&&r){const e=n.find(a=>a.slug===r);f(e),e&&N(e.id)}},[n,r]);const N=async e=>{try{const{data:a,error:x}=await E.from("articles").select(`
          *,
          author:profiles(id, full_name, avatar_url),
          category:categories(id, name, slug, color),
          article_tags!inner(tag_id)
        `).eq("article_tags.tag_id",e).eq("status","published").order("published_at",{ascending:!1});if(x){console.error("Error loading tag articles:",x);return}j(a||[])}catch(a){console.error("Error loading tag articles:",a)}};return u?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(k,{size:"lg"})}):l?t.jsxs("div",{className:"min-h-screen",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-20",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs(c,{to:"/",className:"inline-flex items-center text-white/80 hover:text-white mb-8 transition-colors",children:[t.jsx(g,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),t.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-4 mb-6",children:[t.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx(p,{className:"w-8 h-8 text-white"})}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-2",children:["#",l.name]}),t.jsx("p",{className:"text-xl text-white/90",children:l.description||`Articles tagged with "${l.name}"`})]})]}),t.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-white/80",children:[o.length," article",o.length!==1?"s":""," with this tag"]})]})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:o.length>0?t.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((e,a)=>t.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:t.jsx(A,{article:e})},e.id))}):t.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center py-20",children:[t.jsx(p,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"No Articles Yet"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"There are no published articles with this tag yet. Check back soon!"}),t.jsx(c,{to:"/",children:t.jsx(h,{children:"Browse All Articles"})})]})})]}):t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Tag Not Found"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"The tag you're looking for doesn't exist."}),t.jsx(c,{to:"/",children:t.jsxs(h,{children:[t.jsx(g,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})]})})});export{I as default,G as meta};
