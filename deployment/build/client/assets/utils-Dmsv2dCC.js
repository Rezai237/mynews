const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-D7324mpG.js","assets/chunk-D4RADZKF-DUJFVFZr.js"])))=>i.map(i=>d[i]);
import{y as Ns,A as qa,z as Ha,a as T,o as En}from"./chunk-D4RADZKF-DUJFVFZr.js";const Ws=t=>{let e;const n=new Set,s=(u,l)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const d=e;e=l??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(f=>f(e,d))}},r=()=>e,a={setState:s,getState:r,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=e=t(s,r,a);return a},Ka=t=>t?Ws(t):Ws,za=t=>t;function Ga(t,e=za){const n=Ns.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return Ns.useDebugValue(n),n}const qs=t=>{const e=Ka(t),n=s=>Ga(e,s);return Object.assign(n,e),n},xg=t=>t?qs(t):qs,Ya="modulepreload",Ja=function(t){return"/"+t},Hs={},Ke=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let o=function(u){return Promise.all(u.map(l=>Promise.resolve(l).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=o(n.map(u=>{if(u=Ja(u),u in Hs)return;Hs[u]=!0;const l=u.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Ya,l||(d.as="script"),d.crossOrigin="",d.href=u,c&&d.setAttribute("nonce",c),document.head.appendChild(d),l)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Xa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ke(async()=>{const{default:s}=await Promise.resolve().then(()=>Je);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class ss extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Qa extends ss{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Za extends ss{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ec extends ss{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Cn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Cn||(Cn={}));var tc=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(h){o(h)}}function c(l){try{u(s.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):r(l.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};class nc{constructor(e,{headers:n={},customFetch:s,region:r=Cn.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=Xa(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return tc(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const l=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(m=>{throw new Qa(m)}),h=l.headers.get("x-relay-error");if(h&&h==="true")throw new Za(l);if(!l.ok)throw new ec(l);let d=((s=l.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield l.json():d==="application/octet-stream"?f=yield l.blob():d==="text/event-stream"?f=l:d==="multipart/form-data"?f=yield l.formData():f=yield l.text(),{data:f,error:null}}catch(r){return{data:null,error:r}}})}}var I={},De={},Oe={},Re={},Me={},je={},sc=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ze=sc();const rc=ze.fetch,Li=ze.fetch.bind(ze),Ii=ze.Headers,ic=ze.Request,oc=ze.Response,Je=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ii,Request:ic,Response:oc,default:Li,fetch:rc},Symbol.toStringTag,{value:"Module"})),ac=qa(Je);var Ot={},Ks;function Vi(){if(Ks)return Ot;Ks=1,Object.defineProperty(Ot,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ot.default=t,Ot}var zs;function $i(){if(zs)return je;zs=1;var t=je&&je.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(je,"__esModule",{value:!0});const e=t(ac),n=t(Vi());class s{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let c=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var l,h,d;let f=null,m=null,p=null,g=u.status,y=u.statusText;if(u.ok){if(this.method!=="HEAD"){const w=await u.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=w:m=JSON.parse(w))}const v=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&S&&S.length>1&&(p=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,g=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const v=await u.text();try{f=JSON.parse(v),Array.isArray(f)&&u.status===404&&(m=[],f=null,g=200,y="OK")}catch{u.status===404&&v===""?(g=204,y="No Content"):f={message:v}}if(f&&this.isMaybeSingle&&(!((d=f==null?void 0:f.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,g=200,y="OK"),f&&this.shouldThrowOnError)throw new n.default(f)}return{error:f,data:m,count:p,status:g,statusText:y}});return this.shouldThrowOnError||(c=c.catch(u=>{var l,h,d;return{error:{message:`${(l=u==null?void 0:u.name)!==null&&l!==void 0?l:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=u==null?void 0:u.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return je.default=s,je}var Gs;function Fi(){if(Gs)return Me;Gs=1;var t=Me&&Me.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Me,"__esModule",{value:!0});const e=t($i());class n extends e.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:c=a}={}){const u=c?`${c}.order`:"order",l=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${l?`${l},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const c=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:c=!1,format:u="text"}={}){var l;const h=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,c?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${d}"; options=${h};`,u==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Me.default=n,Me}var Ys;function rs(){if(Ys)return Re;Ys=1;var t=Re&&Re.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Re,"__esModule",{value:!0});const e=t(Fi());class n extends e.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let c="";a==="plain"?c="pl":a==="phrase"?c="ph":a==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${c}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return Re.default=n,Re}var Js;function Ui(){if(Js)return Oe;Js=1;var t=Oe&&Oe.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Oe,"__esModule",{value:!0});const e=t(rs());class n{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let c=!1;const u=(r??"*").split("").map(l=>/\s/.test(l)&&!c?"":(l==='"'&&(c=!c),l)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const u=r.reduce((l,h)=>l.concat(Object.keys(h)),[]);if(u.length>0){const l=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",l.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:c=!0}={}){const u="POST",l=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),c||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const h=r.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Oe.default=n,Oe}var et={},tt={},Xs;function cc(){return Xs||(Xs=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.version=void 0,tt.version="0.0.0-automated"),tt}var Qs;function uc(){if(Qs)return et;Qs=1,Object.defineProperty(et,"__esModule",{value:!0}),et.DEFAULT_HEADERS=void 0;const t=cc();return et.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},et}var Zs;function lc(){if(Zs)return De;Zs=1;var t=De&&De.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(De,"__esModule",{value:!0});const e=t(Ui()),n=t(rs()),s=uc();class r{constructor(o,{headers:a={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),a),this.schemaName=c,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:c=!1,get:u=!1,count:l}={}){let h;const d=new URL(`${this.url}/rpc/${o}`);let f;c||u?(h=c?"HEAD":"GET",Object.entries(a).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{d.searchParams.append(p,g)})):(h="POST",f=a);const m=Object.assign({},this.headers);return l&&(m.Prefer=`count=${l}`),new n.default({method:h,url:d,headers:m,schema:this.schemaName,body:f,fetch:this.fetch,allowEmpty:!1})}}return De.default=r,De}var er;function hc(){if(er)return I;er=1;var t=I&&I.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(I,"__esModule",{value:!0}),I.PostgrestError=I.PostgrestBuilder=I.PostgrestTransformBuilder=I.PostgrestFilterBuilder=I.PostgrestQueryBuilder=I.PostgrestClient=void 0;const e=t(lc());I.PostgrestClient=e.default;const n=t(Ui());I.PostgrestQueryBuilder=n.default;const s=t(rs());I.PostgrestFilterBuilder=s.default;const r=t(Fi());I.PostgrestTransformBuilder=r.default;const i=t($i());I.PostgrestBuilder=i.default;const o=t(Vi());return I.PostgrestError=o.default,I.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},I}var dc=hc();const fc=Ha(dc),{PostgrestClient:mc,PostgrestQueryBuilder:Pg,PostgrestFilterBuilder:kg,PostgrestTransformBuilder:Ag,PostgrestBuilder:Eg,PostgrestError:Cg}=fc,pc="2.11.2",gc={"X-Client-Info":`realtime-js/${pc}`},yc="1.0.0",Bi=1e4,vc=1e3;var He;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(He||(He={}));var K;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(K||(K={}));var Q;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Q||(Q={}));var Dn;(function(t){t.websocket="websocket"})(Dn||(Dn={}));var Se;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Se||(Se={}));class wc{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+r));o=o+r;const c=s.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Ni{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var C;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(C||(C={}));const tr=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=bc(o,t,e,r),i),{})},bc=(t,e,n,s)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=n[t];return i&&!s.includes(i)?Wi(i,o):On(o)},Wi=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return xc(e,n)}switch(t){case C.bool:return _c(e);case C.float4:case C.float8:case C.int2:case C.int4:case C.int8:case C.numeric:case C.oid:return Tc(e);case C.json:case C.jsonb:return Sc(e);case C.timestamp:return Pc(e);case C.abstime:case C.date:case C.daterange:case C.int4range:case C.int8range:case C.money:case C.reltime:case C.text:case C.time:case C.timestamptz:case C.timetz:case C.tsrange:case C.tstzrange:return On(e);default:return On(e)}},On=t=>t,_c=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Tc=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Sc=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},xc=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Wi(e,a))}return t},Pc=t=>typeof t=="string"?t.replace(" ","T"):t,qi=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class cn{constructor(e,n,s={},r=Bi){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var nr;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(nr||(nr={}));class ct{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ct.syncState(this.state,r,i,o),this.pendingDiffs.forEach(c=>{this.state=ct.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ct.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const i=this.cloneDeep(e),o=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{o[u]||(c[u]=l)}),this.map(o,(u,l)=>{const h=i[u];if(h){const d=l.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),m=l.filter(g=>f.indexOf(g.presence_ref)<0),p=h.filter(g=>d.indexOf(g.presence_ref)<0);m.length>0&&(a[u]=m),p.length>0&&(c[u]=p)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},s,r)}static syncDiff(e,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,c)=>{var u;const l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){const h=e[a].map(f=>f.presence_ref),d=l.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}s(a,l,c)}),this.map(o,(a,c)=>{let u=e[a];if(!u)return;const l=c.map(h=>h.presence_ref);u=u.filter(h=>l.indexOf(h.presence_ref)<0),e[a]=u,r(a,u,c),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sr;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(sr||(sr={}));var rr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(rr||(rr={}));var ie;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ie||(ie={}));class is{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=K.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new cn(this,Q.join,this.params,this.timeout),this.rejoinTimer=new Ni(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=K.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=K.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=K.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=K.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Q.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new ct(this),this.broadcastEndpointURL=qi(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(l=>e==null?void 0:e(ie.CHANNEL_ERROR,l)),this._onClose(()=>e==null?void 0:e(ie.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(l=>l.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:l})=>{var h;if(this.socket.setAuth(),l===void 0){e==null||e(ie.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,f=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,m=[];for(let p=0;p<f;p++){const g=d[p],{filter:{event:y,schema:b,table:v,filter:S}}=g,w=l&&l[p];if(w&&w.event===y&&w.schema===b&&w.table===v&&w.filter===S)m.push(Object.assign(Object.assign({},g),{id:w.id}));else{this.unsubscribe(),e==null||e(ie.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(ie.SUBSCRIBED);return}}).receive("error",l=>{e==null||e(ie.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ie.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=K.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Q.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new cn(this,Q.leave,{},e);r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new cn(this,e,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=Q;if(s&&[a,c,u,l].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,n,s);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var m,p,g;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(p=f.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var m,p,g,y,b,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,w=(m=f.filter)===null||m===void 0?void 0:m.event;return S&&((p=n.ids)===null||p===void 0?void 0:p.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const S=(b=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:p,table:g,commit_timestamp:y,type:b,errors:v}=m;d=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:y,eventType:b,new:{},old:{},errors:v}),this._getPayloadRecords(m))}f.callback(d,s)})}_isClosed(){return this.state===K.closed}_isJoined(){return this.state===K.joined}_isJoining(){return this.state===K.joining}_isLeaving(){return this.state===K.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&is.isEqual(r.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Q.close,{},e)}_onError(e){this._on(Q.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=K.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=tr(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=tr(e.columns,e.old_record)),n}}const kc=()=>{},Ac=typeof WebSocket<"u",Ec=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cc{constructor(e,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=gc,this.params={},this.timeout=Bi,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=kc,this.conn=null,this.sendBuffer=[],this.serializer=new wc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ke(async()=>{const{default:c}=await Promise.resolve().then(()=>Je);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Dn.websocket}`,this.httpEndpoint=qi(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ni(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ac){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Dc(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ke(async()=>{const{default:e}=await import("./browser-D7324mpG.js").then(n=>n.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yc}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case He.connecting:return Se.Connecting;case He.open:return Se.Open;case He.closing:return Se.Closing;default:return Se.Closed}}isConnected(){return this.connectionState()===Se.Open}channel(e,n={config:{}}){const s=new is(`realtime:${e}`,n,this);return this.channels.push(s),s}push(e){const{topic:n,event:s,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(Q.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(vc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:s,event:r,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Q.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([Ec],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class Dc{constructor(e,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=He.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class os extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function V(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Oc extends os{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Rn extends os{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Rc=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(h){o(h)}}function c(l){try{u(s.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):r(l.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};const Hi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ke(async()=>{const{default:s}=await Promise.resolve().then(()=>Je);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},Mc=()=>Rc(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ke(()=>Promise.resolve().then(()=>Je),void 0)).Response:Response}),Mn=t=>{if(Array.isArray(t))return t.map(n=>Mn(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=Mn(s)}),e};var Ee=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(h){o(h)}}function c(l){try{u(s.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):r(l.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};const un=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jc=(t,e,n)=>Ee(void 0,void 0,void 0,function*(){const s=yield Mc();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{e(new Oc(un(r),t.status||500))}).catch(r=>{e(new Rn(un(r),r))}):e(new Rn(un(t),t))}),Lc=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),n))};function Pt(t,e,n,s,r,i){return Ee(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Lc(e,s,r,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>jc(c,a,s))})})}function Kt(t,e,n,s){return Ee(this,void 0,void 0,function*(){return Pt(t,"GET",e,n,s)})}function de(t,e,n,s,r){return Ee(this,void 0,void 0,function*(){return Pt(t,"POST",e,s,r,n)})}function Ic(t,e,n,s,r){return Ee(this,void 0,void 0,function*(){return Pt(t,"PUT",e,s,r,n)})}function Vc(t,e,n,s){return Ee(this,void 0,void 0,function*(){return Pt(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Ki(t,e,n,s,r){return Ee(this,void 0,void 0,function*(){return Pt(t,"DELETE",e,s,r,n)})}var q=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(h){o(h)}}function c(l){try{u(s.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):r(l.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};const $c={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ir={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fc{constructor(e,n={},s,r){this.url=e,this.headers=n,this.bucketId=s,this.fetch=Hi(r)}uploadOrUpdate(e,n,s,r){return q(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ir),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(n),l=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(V(i))return{data:null,error:i};throw i}})}upload(e,n,s){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return q(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:ir.upsert},r),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(c){if(V(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return q(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield de(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new os("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}update(e,n,s){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return q(this,void 0,void 0,function*(){try{return{data:yield de(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}})}copy(e,n,s){return q(this,void 0,void 0,function*(){try{return{data:{path:(yield de(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return q(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield de(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return q(this,void 0,void 0,function*(){try{const r=yield de(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}})}download(e,n){return q(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Kt(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(V(a))return{data:null,error:a};throw a}})}info(e){return q(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Kt(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Mn(s),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}exists(e){return q(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Vc(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(V(s)&&s instanceof Rn){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&r.push(c);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${u}`)}}}remove(e){return q(this,void 0,void 0,function*(){try{return{data:yield Ki(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}list(e,n,s){return q(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},$c),n),{prefix:e||""});return{data:yield de(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Uc="2.7.1",Bc={"X-Client-Info":`storage-js/${Uc}`};var Le=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(h){o(h)}}function c(l){try{u(s.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):r(l.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};class Nc{constructor(e,n={},s){this.url=e,this.headers=Object.assign(Object.assign({},Bc),n),this.fetch=Hi(s)}listBuckets(){return Le(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(V(e))return{data:null,error:e};throw e}})}getBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Le(this,void 0,void 0,function*(){try{return{data:yield de(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Le(this,void 0,void 0,function*(){try{return{data:yield Ic(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield de(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Ki(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}})}}class Wc extends Nc{constructor(e,n={},s){super(e,n,s)}from(e){return new Fc(this.url,this.headers,e,this.fetch)}}const qc="2.49.8";let ot="";typeof Deno<"u"?ot="deno":typeof document<"u"?ot="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ot="react-native":ot="node";const Hc={"X-Client-Info":`supabase-js-${ot}/${qc}`},Kc={headers:Hc},zc={schema:"public"},Gc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yc={};var Jc=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(h){o(h)}}function c(l){try{u(s.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):r(l.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};const Xc=t=>{let e;return t?e=t:typeof fetch>"u"?e=Li:e=fetch,(...n)=>e(...n)},Qc=()=>typeof Headers>"u"?Ii:Headers,Zc=(t,e,n)=>{const s=Xc(n),r=Qc();return(i,o)=>Jc(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:u}))})};var eu=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(h){o(h)}}function c(l){try{u(s.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):r(l.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};function tu(t){return t.endsWith("/")?t:t+"/"}function nu(t,e){var n,s;const{db:r,auth:i,realtime:o,global:a}=t,{db:c,auth:u,realtime:l,global:h}=e,d={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>eu(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const zi="2.69.1",Fe=30*1e3,jn=3,ln=jn*Fe,su="http://localhost:9999",ru="supabase.auth.token",iu={"X-Client-Info":`gotrue-js/${zi}`},Ln="X-Supabase-Api-Version",Gi={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ou=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,au=6e5;class as extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function x(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cu extends as{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function uu(t){return x(t)&&t.name==="AuthApiError"}class Yi extends as{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ge extends as{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class ue extends ge{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lu(t){return x(t)&&t.name==="AuthSessionMissingError"}class hn extends ge{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rt extends ge{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mt extends ge{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hu(t){return x(t)&&t.name==="AuthImplicitGrantRedirectError"}class or extends ge{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class In extends ge{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function dn(t){return x(t)&&t.name==="AuthRetryableFetchError"}class ar extends ge{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class ut extends ge{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ur=` 	
\r=`.split(""),du=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ur.length;e+=1)t[ur[e].charCodeAt(0)]=-2;for(let e=0;e<cr.length;e+=1)t[cr[e].charCodeAt(0)]=e;return t})();function Ji(t,e,n){const s=du[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function lr(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{pu(o,s,n)};for(let o=0;o<t.length;o+=1)Ji(t.charCodeAt(o),r,i);return e.join("")}function fu(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mu(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}fu(s,e)}}function pu(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function gu(t){const e=[],n={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)Ji(t.charCodeAt(r),n,s);return new Uint8Array(e)}function yu(t){const e=[];return mu(t,n=>e.push(n)),new Uint8Array(e)}function vu(t){return Math.round(Date.now()/1e3)+t}function wu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Z=()=>typeof window<"u"&&typeof document<"u",ve={tested:!1,writable:!1},lt=()=>{if(!Z())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ve.tested)return ve.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ve.tested=!0,ve.writable=!0}catch{ve.tested=!0,ve.writable=!1}return ve.writable};function bu(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const Xi=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ke(async()=>{const{default:s}=await Promise.resolve().then(()=>Je);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},_u=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Qi=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},jt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Lt=async(t,e)=>{await t.removeItem(e)};class en{constructor(){this.promise=new en.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}en.promiseConstructor=Promise;function fn(t){const e=t.split(".");if(e.length!==3)throw new ut("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!ou.test(e[s]))throw new ut("JWT not in base64url format");return{header:JSON.parse(lr(e[0])),payload:JSON.parse(lr(e[1])),signature:gu(e[2]),raw:{header:e[0],payload:e[1]}}}async function Tu(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Su(t,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function xu(t){return("0"+t.toString(16)).substr(-2)}function Pu(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,xu).join("")}async function ku(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Au(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ku(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ie(t,e,n=!1){const s=Pu();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await Qi(t,`${e}-code-verifier`,r);const i=await Au(s);return[i,s===i?"plain":"s256"]}const Eu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cu(t){const e=t.headers.get(Ln);if(!e||!e.match(Eu))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Du(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Ou(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ru=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const be=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mu=[502,503,504];async function hr(t){var e;if(!_u(t))throw new In(be(t),0);if(Mu.includes(t.status))throw new In(be(t),t.status);let n;try{n=await t.json()}catch(i){throw new Yi(be(i),i)}let s;const r=Cu(t);if(r&&r.getTime()>=Gi["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new ar(be(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ue}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ar(be(n),t.status,n.weak_password.reasons);throw new cu(be(n),t.status||500,s)}const ju=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function k(t,e,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[Ln]||(i[Ln]=Gi["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Lu(t,e,n+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function Lu(t,e,n,s,r,i){const o=ju(e,s,r,i);let a;try{a=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new In(be(c),0)}if(a.ok||await hr(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(c){await hr(c)}}function le(t){var e;let n=null;Fu(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=vu(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function dr(t){const e=le(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fe(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Iu(t){return{data:t,error:null}}function Vu(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=t,o=Ru(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function $u(t){return t}function Fu(t){return t.access_token&&t.refresh_token&&t.expires_in}var Uu=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class Bu{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Xi(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await k(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(x(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await k(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:fe})}catch(s){if(x(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Uu(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await k(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Vu,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(x(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await k(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fe})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},l=await k(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:$u});if(l.error)throw l.error;const h=await l.json(),d=(o=l.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(m=>{const p=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(x(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await k(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fe})}catch(n){if(x(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await k(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:fe})}catch(s){if(x(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){try{return await k(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:fe})}catch(s){if(x(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:n,error:s}=await k(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(x(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await k(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(x(n))return{data:null,error:n};throw n}}}const Nu={getItem:t=>lt()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{lt()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{lt()&&globalThis.localStorage.removeItem(t)}};function fr(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Wu(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ve={debug:!!(globalThis&&lt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class qu extends Zi{}async function Hu(t,e,n){Ve.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ve.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Ve.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{Ve.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Ve.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new qu(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ve.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Wu();const Ku={url:su,storageKey:ru,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mr(t,e,n){return await n()}class gt{constructor(e){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gt.nextInstanceID,gt.nextInstanceID+=1,this.instanceID>0&&Z()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Ku),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Bu({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Xi(r.fetch),this.lock=r.lock||mr,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Z()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Hu:this.lock=mr,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:lt()?this.storage=Nu:(this.memoryStorage={},this.storage=fr(this.memoryStorage)):(this.memoryStorage={},this.storage=fr(this.memoryStorage)),Z()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${zi}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=bu(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Z()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hu(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return x(n)?{error:n}:{error:new Yi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const i=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:le}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(x(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,s,r;try{let i;if("email"in e){const{email:l,password:h,options:d}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Ie(this.storage,this.storageKey)),i=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:l,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:m},xform:le})}else if("phone"in e){const{phone:l,password:h,options:d}=e;i=await k(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:l,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},channel:(r=d==null?void 0:d.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:le})}else throw new Rt("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(x(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:dr})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await k(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:dr})}else throw new Rt("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new hn}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(x(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await jt(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await k(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:le});if(await Lt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new hn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(x(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=e,a=await k(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:le}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new hn}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(x(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,i,o;try{if("email"in e){const{email:a,options:c}=e;let u=null,l=null;this.flowType==="pkce"&&([u,l]=await Ie(this.storage,this.storageKey));const{error:h}=await k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:l},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:l}=await k(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:l}}throw new Rt("You must provide either an email or phone number.")}catch(a){if(x(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await k(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:le});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ie(this.storage,this.storageKey)),await k(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Iu})}catch(i){if(x(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new ue;const{error:r}=await k(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(x(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:o}=await k(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:o,error:a}=await k(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Rt("You must provide either an email or phone number and a type")}catch(n){if(x(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await jt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<ln:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,l)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,l))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fe}):await this._useSession(async n=>{var s,r,i;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ue}:await k(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:fe})})}catch(n){if(x(n))return lu(n)&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new ue;const o=r.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Ie(this.storage,this.storageKey));const{data:u,error:l}=await k(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:fe});if(l)throw l;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(x(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ue;const n=Date.now()/1e3;let s=n,r=!0,i=null;const{payload:o}=fn(e.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(x(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new ue;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(x(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Z())throw new Mt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new or("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mt("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new or("No code detected.");const{data:b,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=e;if(!i||!a||!o||!u)throw new Mt("No session defined in URL");const l=Math.round(Date.now()/1e3),h=parseInt(a);let d=l+h;c&&(d=parseInt(c));const f=d-l;f*1e3<=Fe&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=d-h;l-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,l):l-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,l);const{data:p,error:g}=await this._getUser(i);if(g)throw g;const y={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(s){if(x(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await jt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(uu(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=wu(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Ie(this.storage,this.storageKey,!0));try{return await k(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(x(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(x(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,c,u,l;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await k(this.fetch,"GET",f,{headers:this.headers,jwt:(l=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&l!==void 0?l:void 0})});if(r)throw r;return Z()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(x(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await k(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(x(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Su(async r=>(r>0&&await Tu(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await k(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:le})),(r,i)=>{const o=200*Math.pow(2,r);return i&&dn(i)&&Date.now()+o-s<Fe})}catch(s){if(this._debug(n,"error",s),x(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Z()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await jt(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const r=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<ln;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${ln}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),dn(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new ue;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new en;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ue;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),x(i)){const o={session:null,error:i};return dn(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Qi(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Lt(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Z()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fe);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Fe);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Fe}ms, refresh threshold is ${jn} ticks`),r<=jn&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zi)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Z()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ie(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await k(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(x(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await k(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(x(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await k(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(x(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await k(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(x(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=fn(r.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const l=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(o=>o.kid===e);if(s||(s=this.jwks.keys.find(o=>o.kid===e),s&&this.jwks_cached_at+au>Date.now()))return s;const{data:r,error:i}=await k(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new ut("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),s=r.keys.find(o=>o.kid===e),!s)throw new ut("No matching signing key found in JWKS");return s}async getClaims(e,n={keys:[]}){try{let s=e;if(!s){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};s=f.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:c}}=fn(s);if(Du(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:r,signature:o},error:null}}const u=Ou(r.alg),l=await this.fetchJwk(r.kid,n),h=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,yu(`${a}.${c}`)))throw new ut("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(s){if(x(s))return{data:null,error:s};throw s}}}gt.nextInstanceID=0;const zu=gt;class Gu extends zu{constructor(e){super(e)}}var Yu=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(s.next(l))}catch(h){o(h)}}function c(l){try{u(s.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):r(l.value).then(a,c)}u((s=s.apply(t,e||[])).next())})};class Ju{constructor(e,n,s){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=tu(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,l={db:zc,realtime:Yc,auth:Object.assign(Object.assign({},Gc),{storageKey:u}),global:Kc},h=nu(s??{},l);this.storageKey=(r=h.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Zc(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new mc(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new nc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Wc(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Yu(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:i,flowType:o,lock:a,debug:c},u,l){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gu({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,flowType:o,lock:a,debug:c,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Cc(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xu=(t,e,n)=>new Ju(t,e,n),Qu="https://ttputpllkehhtwqfifxe.supabase.co",Zu="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0cHV0cGxsa2VoaHR3cWZpZnhlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgxMTAwMTYsImV4cCI6MjA2MzY4NjAxNn0.FUK--Lz0zvFuodova5Cf1s7UCsOsYt3yq4_JoVN8V38",Dg=Xu(Qu,Zu,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),eo=T.createContext({});function el(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const cs=typeof window<"u",tl=cs?T.useLayoutEffect:T.useEffect,us=T.createContext(null);function ls(t,e){t.indexOf(e)===-1&&t.push(e)}function hs(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oe=(t,e,n)=>n>e?e:n<t?t:n;let ds=()=>{};const ae={},to=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function no(t){return typeof t=="object"&&t!==null}const so=t=>/^0[^.\s]+$/u.test(t);function fs(t){let e;return()=>(e===void 0&&(e=t()),e)}const J=t=>t,nl=(t,e)=>n=>e(t(n)),kt=(...t)=>t.reduce(nl),yt=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class ms{constructor(){this.subscriptions=[]}add(e){return ls(this.subscriptions,e),()=>hs(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const o=this.subscriptions[i];o&&o(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ee=t=>t*1e3,te=t=>t/1e3;function ro(t,e){return e?t*(1e3/e):0}const io=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,sl=1e-7,rl=12;function il(t,e,n,s,r){let i,o,a=0;do o=e+(n-e)/2,i=io(o,s,r)-t,i>0?n=o:e=o;while(Math.abs(i)>sl&&++a<rl);return o}function At(t,e,n,s){if(t===e&&n===s)return J;const r=i=>il(i,0,1,t,n);return i=>i===0||i===1?i:io(r(i),e,s)}const oo=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ao=t=>e=>1-t(1-e),co=At(.33,1.53,.69,.99),ps=ao(co),uo=oo(ps),lo=t=>(t*=2)<1?.5*ps(t):.5*(2-Math.pow(2,-10*(t-1))),gs=t=>1-Math.sin(Math.acos(t)),ho=ao(gs),fo=oo(gs),ol=At(.42,0,1,1),al=At(0,0,.58,1),mo=At(.42,0,.58,1),cl=t=>Array.isArray(t)&&typeof t[0]!="number",po=t=>Array.isArray(t)&&typeof t[0]=="number",ul={linear:J,easeIn:ol,easeInOut:mo,easeOut:al,circIn:gs,circInOut:fo,circOut:ho,backIn:ps,backInOut:uo,backOut:co,anticipate:lo},ll=t=>typeof t=="string",pr=t=>{if(po(t)){ds(t.length===4);const[e,n,s,r]=t;return At(e,n,s,r)}else if(ll(t))return ul[t];return t},It=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],gr={value:null};function hl(t,e){let n=new Set,s=new Set,r=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},c=0;function u(h){o.has(h)&&(l.schedule(h),t()),c++,h(a)}const l={schedule:(h,d=!1,f=!1)=>{const p=f&&r?n:s;return d&&o.add(h),p.has(h)||p.add(h),h},cancel:h=>{s.delete(h),o.delete(h)},process:h=>{if(a=h,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(u),e&&gr.value&&gr.value.frameloop[e].push(c),c=0,n.clear(),r=!1,i&&(i=!1,l.process(h))}};return l}const dl=40;function go(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=It.reduce((v,S)=>(v[S]=hl(i,e?S:void 0),v),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:l,update:h,preRender:d,render:f,postRender:m}=o,p=()=>{const v=ae.useManualTiming?r.timestamp:performance.now();n=!1,ae.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(v-r.timestamp,dl),1)),r.timestamp=v,r.isProcessing=!0,a.process(r),c.process(r),u.process(r),l.process(r),h.process(r),d.process(r),f.process(r),m.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(p))},g=()=>{n=!0,s=!0,r.isProcessing||t(p)};return{schedule:It.reduce((v,S)=>{const w=o[S];return v[S]=(E,L=!1,P=!1)=>(n||g(),w.schedule(E,L,P)),v},{}),cancel:v=>{for(let S=0;S<It.length;S++)o[It[S]].cancel(v)},state:r,steps:o}}const{schedule:O,cancel:me,state:$,steps:mn}=go(typeof requestAnimationFrame<"u"?requestAnimationFrame:J,!0);let Bt;function fl(){Bt=void 0}const H={now:()=>(Bt===void 0&&H.set($.isProcessing||ae.useManualTiming?$.timestamp:performance.now()),Bt),set:t=>{Bt=t,queueMicrotask(fl)}},yo=t=>e=>typeof e=="string"&&e.startsWith(t),ys=yo("--"),ml=yo("var(--"),vs=t=>ml(t)?pl.test(t.split("/*")[0].trim()):!1,pl=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xe={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vt={...Xe,transform:t=>oe(0,1,t)},Vt={...Xe,default:1},ht=t=>Math.round(t*1e5)/1e5,ws=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gl(t){return t==null}const yl=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bs=(t,e)=>n=>!!(typeof n=="string"&&yl.test(n)&&n.startsWith(t)||e&&!gl(n)&&Object.prototype.hasOwnProperty.call(n,e)),vo=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,o,a]=s.match(ws);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},vl=t=>oe(0,255,t),pn={...Xe,transform:t=>Math.round(vl(t))},xe={test:bs("rgb","red"),parse:vo("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+pn.transform(t)+", "+pn.transform(e)+", "+pn.transform(n)+", "+ht(vt.transform(s))+")"};function wl(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const Vn={test:bs("#"),parse:wl,transform:xe.transform},Et=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),he=Et("deg"),ne=Et("%"),_=Et("px"),bl=Et("vh"),_l=Et("vw"),yr={...ne,parse:t=>ne.parse(t)/100,transform:t=>ne.transform(t*100)},Ue={test:bs("hsl","hue"),parse:vo("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ne.transform(ht(e))+", "+ne.transform(ht(n))+", "+ht(vt.transform(s))+")"},F={test:t=>xe.test(t)||Vn.test(t)||Ue.test(t),parse:t=>xe.test(t)?xe.parse(t):Ue.test(t)?Ue.parse(t):Vn.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xe.transform(t):Ue.transform(t)},Tl=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Sl(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ws))==null?void 0:e.length)||0)+(((n=t.match(Tl))==null?void 0:n.length)||0)>0}const wo="number",bo="color",xl="var",Pl="var(",vr="${}",kl=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wt(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const a=e.replace(kl,c=>(F.test(c)?(s.color.push(i),r.push(bo),n.push(F.parse(c))):c.startsWith(Pl)?(s.var.push(i),r.push(xl),n.push(c)):(s.number.push(i),r.push(wo),n.push(parseFloat(c))),++i,vr)).split(vr);return{values:n,split:a,indexes:s,types:r}}function _o(t){return wt(t).values}function To(t){const{split:e,types:n}=wt(t),s=e.length;return r=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],r[o]!==void 0){const a=n[o];a===wo?i+=ht(r[o]):a===bo?i+=F.transform(r[o]):i+=r[o]}return i}}const Al=t=>typeof t=="number"?0:t;function El(t){const e=_o(t);return To(t)(e.map(Al))}const pe={test:Sl,parse:_o,createTransformer:To,getAnimatableNone:El};function gn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Cl({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,o=0;if(!e)r=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;r=gn(c,a,t+1/3),i=gn(c,a,t),o=gn(c,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function zt(t,e){return n=>n>0?e:t}const D=(t,e,n)=>t+(e-t)*n,yn=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},Dl=[Vn,xe,Ue],Ol=t=>Dl.find(e=>e.test(t));function wr(t){const e=Ol(t);if(!e)return!1;let n=e.parse(t);return e===Ue&&(n=Cl(n)),n}const br=(t,e)=>{const n=wr(t),s=wr(e);if(!n||!s)return zt(t,e);const r={...n};return i=>(r.red=yn(n.red,s.red,i),r.green=yn(n.green,s.green,i),r.blue=yn(n.blue,s.blue,i),r.alpha=D(n.alpha,s.alpha,i),xe.transform(r))},$n=new Set(["none","hidden"]);function Rl(t,e){return $n.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ml(t,e){return n=>D(t,e,n)}function _s(t){return typeof t=="number"?Ml:typeof t=="string"?vs(t)?zt:F.test(t)?br:Il:Array.isArray(t)?So:typeof t=="object"?F.test(t)?br:jl:zt}function So(t,e){const n=[...t],s=n.length,r=t.map((i,o)=>_s(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)n[o]=r[o](i);return n}}function jl(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=_s(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function Ll(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const i=e.types[r],o=t.indexes[i][s[i]],a=t.values[o]??0;n[r]=a,s[i]++}return n}const Il=(t,e)=>{const n=pe.createTransformer(e),s=wt(t),r=wt(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?$n.has(t)&&!r.values.length||$n.has(e)&&!s.values.length?Rl(t,e):kt(So(Ll(s,r),r.values),n):zt(t,e)};function xo(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?D(t,e,n):_s(t)(t,e)}const Vl=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>O.update(e,n),stop:()=>me(e),now:()=>$.isProcessing?$.timestamp:H.now()}},Po=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(i/(r-1))+", ";return`linear(${s.substring(0,s.length-2)})`},Gt=2e4;function Ts(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Gt;)e+=n,s=t.next(e);return e>=Gt?1/0:e}function $l(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(Ts(s),Gt);return{type:"keyframes",ease:i=>s.next(r*i).value/e,duration:te(r)}}const Fl=5;function ko(t,e,n){const s=Math.max(e-Fl,0);return ro(n-t(s),e-s)}const R={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_r=.001;function Ul({duration:t=R.duration,bounce:e=R.bounce,velocity:n=R.velocity,mass:s=R.mass}){let r,i,o=1-e;o=oe(R.minDamping,R.maxDamping,o),t=oe(R.minDuration,R.maxDuration,te(t)),o<1?(r=u=>{const l=u*o,h=l*t,d=l-n,f=Fn(u,o),m=Math.exp(-h);return _r-d/f*m},i=u=>{const h=u*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-h),p=Fn(Math.pow(u,2),o);return(-r(u)+_r>0?-1:1)*((d-f)*m)/p}):(r=u=>{const l=Math.exp(-u*t),h=(u-n)*t+1;return-.001+l*h},i=u=>{const l=Math.exp(-u*t),h=(n-u)*(t*t);return l*h});const a=5/t,c=Nl(r,i,a);if(t=ee(t),isNaN(c))return{stiffness:R.stiffness,damping:R.damping,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:o*2*Math.sqrt(s*u),duration:t}}}const Bl=12;function Nl(t,e,n){let s=n;for(let r=1;r<Bl;r++)s=s-t(s)/e(s);return s}function Fn(t,e){return t*Math.sqrt(1-e*e)}const Wl=["duration","bounce"],ql=["stiffness","damping","mass"];function Tr(t,e){return e.some(n=>t[n]!==void 0)}function Hl(t){let e={velocity:R.velocity,stiffness:R.stiffness,damping:R.damping,mass:R.mass,isResolvedFromDuration:!1,...t};if(!Tr(t,ql)&&Tr(t,Wl))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*oe(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:R.mass,stiffness:r,damping:i}}else{const n=Ul(t);e={...e,...n,mass:R.mass},e.isResolvedFromDuration=!0}return e}function Yt(t=R.visualDuration,e=R.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:c,damping:u,mass:l,duration:h,velocity:d,isResolvedFromDuration:f}=Hl({...n,velocity:-te(n.velocity||0)}),m=d||0,p=u/(2*Math.sqrt(c*l)),g=o-i,y=te(Math.sqrt(c/l)),b=Math.abs(g)<5;s||(s=b?R.restSpeed.granular:R.restSpeed.default),r||(r=b?R.restDelta.granular:R.restDelta.default);let v;if(p<1){const w=Fn(y,p);v=E=>{const L=Math.exp(-p*y*E);return o-L*((m+p*y*g)/w*Math.sin(w*E)+g*Math.cos(w*E))}}else if(p===1)v=w=>o-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(p*p-1);v=E=>{const L=Math.exp(-p*y*E),P=Math.min(w*E,300);return o-L*((m+p*y*g)*Math.sinh(P)+w*g*Math.cosh(P))/w}}const S={calculatedDuration:f&&h||null,next:w=>{const E=v(w);if(f)a.done=w>=h;else{let L=w===0?m:0;p<1&&(L=w===0?ee(m):ko(v,w,E));const P=Math.abs(L)<=s,W=Math.abs(o-E)<=r;a.done=P&&W}return a.value=a.done?o:E,a},toString:()=>{const w=Math.min(Ts(S),Gt),E=Po(L=>S.next(w*L).value,w,30);return w+"ms "+E},toTransition:()=>{}};return S}Yt.applyToOptions=t=>{const e=$l(t,100,Yt);return t.ease=e.ease,t.duration=ee(e.duration),t.type="keyframes",t};function Un({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:l}){const h=t[0],d={done:!1,value:h},f=P=>a!==void 0&&P<a||c!==void 0&&P>c,m=P=>a===void 0?c:c===void 0||Math.abs(a-P)<Math.abs(c-P)?a:c;let p=n*e;const g=h+p,y=o===void 0?g:o(g);y!==g&&(p=y-h);const b=P=>-p*Math.exp(-P/s),v=P=>y+b(P),S=P=>{const W=b(P),z=v(P);d.done=Math.abs(W)<=u,d.value=d.done?y:z};let w,E;const L=P=>{f(d.value)&&(w=P,E=Yt({keyframes:[d.value,m(d.value)],velocity:ko(v,P,d.value),damping:r,stiffness:i,restDelta:u,restSpeed:l}))};return L(0),{calculatedDuration:null,next:P=>{let W=!1;return!E&&w===void 0&&(W=!0,S(P),L(P)),w!==void 0&&P>=w?E.next(P-w):(!W&&S(P),d)}}}function Kl(t,e,n){const s=[],r=n||ae.mix||xo,i=t.length-1;for(let o=0;o<i;o++){let a=r(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||J:e;a=kt(c,a)}s.push(a)}return s}function zl(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(ds(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Kl(e,s,r),c=a.length,u=l=>{if(o&&l<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(l<t[h+1]);h++);const d=yt(t[h],t[h+1],l);return a[h](d)};return n?l=>u(oe(t[0],t[i-1],l)):u}function Gl(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=yt(0,e,s);t.push(D(n,1,r))}}function Yl(t){const e=[0];return Gl(e,t.length-1),e}function Jl(t,e){return t.map(n=>n*e)}function Xl(t,e){return t.map(()=>e||mo).splice(0,t.length-1)}function dt({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=cl(s)?s.map(pr):pr(s),i={done:!1,value:e[0]},o=Jl(n&&n.length===e.length?n:Yl(e),t),a=zl(o,e,{ease:Array.isArray(r)?r:Xl(e,r)});return{calculatedDuration:t,next:c=>(i.value=a(c),i.done=c>=t,i)}}const Ql=t=>t!==null;function Ss(t,{repeat:e,repeatType:n="loop"},s,r=1){const i=t.filter(Ql),a=r<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}const Zl={decay:Un,inertia:Un,tween:dt,keyframes:dt,spring:Yt};function Ao(t){typeof t.type=="string"&&(t.type=Zl[t.type])}class xs{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const eh=t=>t/100;class Ps extends xs{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var s,r;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==H.now()&&this.tick(H.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ao(e);const{type:n=dt,repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const c=n||dt;c!==dt&&typeof a[0]!="number"&&(this.mixKeyframes=kt(eh,xo(a[0],a[1])),a=[0,100]);const u=c({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Ts(u));const{calculatedDuration:l}=u;this.calculatedDuration=l,this.resolvedDuration=l+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:l,repeat:h,repeatType:d,repeatDelay:f,type:m,onUpdate:p,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?y<0:y>r;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,S=s;if(h){const P=Math.min(this.currentTime,r)/a;let W=Math.floor(P),z=P%1;!z&&P>=1&&(z=1),z===1&&W--,W=Math.min(W,h+1),!!(W%2)&&(d==="reverse"?(z=1-z,f&&(z-=f/a)):d==="mirror"&&(S=o)),v=oe(0,1,z)*a}const w=b?{done:!1,value:l[0]}:S.next(v);i&&(w.value=i(w.value));let{done:E}=w;!b&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return L&&m!==Un&&(w.value=Ss(l,this.options,g,this.speed)),p&&p(w.value),L&&this.finish(),w}then(e,n){return this.finished.then(e,n)}get duration(){return te(this.calculatedDuration)}get time(){return te(this.currentTime)}set time(e){var n;e=ee(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(H.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=te(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:e=Vl,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(r=this.options).onPlay)==null||i.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(H.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function th(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pe=t=>t*180/Math.PI,Bn=t=>{const e=Pe(Math.atan2(t[1],t[0]));return Nn(e)},nh={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Bn,rotateZ:Bn,skewX:t=>Pe(Math.atan(t[1])),skewY:t=>Pe(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Nn=t=>(t=t%360,t<0&&(t+=360),t),Sr=Bn,xr=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Pr=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),sh={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xr,scaleY:Pr,scale:t=>(xr(t)+Pr(t))/2,rotateX:t=>Nn(Pe(Math.atan2(t[6],t[5]))),rotateY:t=>Nn(Pe(Math.atan2(-t[2],t[0]))),rotateZ:Sr,rotate:Sr,skewX:t=>Pe(Math.atan(t[4])),skewY:t=>Pe(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Wn(t){return t.includes("scale")?1:0}function qn(t,e){if(!t||t==="none")return Wn(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=sh,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=nh,r=a}if(!r)return Wn(e);const i=s[e],o=r[1].split(",").map(ih);return typeof i=="function"?i(o):o[i]}const rh=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return qn(n,e)};function ih(t){return parseFloat(t.trim())}const Qe=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ze=new Set(Qe),kr=t=>t===Xe||t===_,oh=new Set(["x","y","z"]),ah=Qe.filter(t=>!oh.has(t));function ch(t){const e=[];return ah.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ke={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>qn(e,"x"),y:(t,{transform:e})=>qn(e,"y")};ke.translateX=ke.x;ke.translateY=ke.y;const Ae=new Set;let Hn=!1,Kn=!1,zn=!1;function Eo(){if(Kn){const t=Array.from(Ae).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=ch(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,o])=>{var a;(a=s.getValue(i))==null||a.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Kn=!1,Hn=!1,Ae.forEach(t=>t.complete(zn)),Ae.clear()}function Co(){Ae.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Kn=!0)})}function uh(){zn=!0,Co(),Eo(),zn=!1}class ks{constructor(e,n,s,r,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ae.add(this),Hn||(Hn=!0,O.read(Co),O.resolveKeyframes(Eo))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const i=r==null?void 0:r.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&n){const a=s.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&i===void 0&&r.set(e[0])}th(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ae.delete(this)}cancel(){this.state==="scheduled"&&(Ae.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lh=t=>t.startsWith("--");function hh(t,e,n){lh(e)?t.style.setProperty(e,n):t.style[e]=n}const dh=fs(()=>window.ScrollTimeline!==void 0),fh={};function mh(t,e){const n=fs(t);return()=>fh[e]??n()}const Do=mh(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),at=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Ar={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:at([0,.65,.55,1]),circOut:at([.55,0,1,.45]),backIn:at([.31,.01,.66,-.59]),backOut:at([.33,1.53,.69,.99])};function Oo(t,e){if(t)return typeof t=="function"?Do()?Po(t,e):"ease-out":po(t)?at(t):Array.isArray(t)?t.map(n=>Oo(n,e)||Ar.easeOut):Ar[t]}function ph(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const l={[e]:n};c&&(l.offset=c);const h=Oo(a,r);Array.isArray(h)&&(l.easing=h);const d={delay:s,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),t.animate(l,d)}function Ro(t){return typeof t=="function"&&"applyToOptions"in t}function gh({type:t,...e}){return Ro(t)&&Do()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yh extends xs{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,ds(typeof e.type!="string");const u=gh(e);this.animation=ph(n,s,r,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const l=Ss(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(l):hh(n,s,l),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return te(Number(e))}get time(){return te(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ee(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&dh()?(this.animation.timeline=e,J):n(this)}}const Mo={anticipate:lo,backInOut:uo,circInOut:fo};function vh(t){return t in Mo}function wh(t){typeof t.ease=="string"&&vh(t.ease)&&(t.ease=Mo[t.ease])}const Er=10;class bh extends yh{constructor(e){wh(e),Ao(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Ps({...o,autoplay:!1}),c=ee(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-Er).value,a.sample(c).value,Er),a.stop()}}const Cr=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pe.test(t)||t==="0")&&!t.startsWith("url("));function _h(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Th(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Cr(r,e),a=Cr(i,e);return!o||!a?!1:_h(t)||(n==="spring"||Ro(n))&&s}function jo(t){return no(t)&&"offsetHeight"in t}const Sh=new Set(["opacity","clipPath","filter","transform"]),xh=fs(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ph(t){var u;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:i,type:o}=t;if(!jo((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:c}=e.owner.getProps();return xh()&&n&&Sh.has(n)&&(n!=="transform"||!c)&&!a&&!s&&r!=="mirror"&&i!==0&&o!=="inertia"}const kh=40;class Ah extends xs{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:l,...h}){var m;super(),this.stop=()=>{var p,g;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=H.now();const d={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:l,...h},f=(l==null?void 0:l.KeyframeResolver)||ks;this.keyframeResolver=new f(a,(p,g,y)=>this.onKeyframesResolved(p,g,d,!y),c,u,l),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:l}=s;this.resolvedAt=H.now(),Th(e,i,o,a)||((ae.instantAnimations||!c)&&(l==null||l(Ss(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const d={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>kh?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},f=!u&&Ph(d)?new bh({...d,element:d.motionValue.owner.current}):new Ps(d);f.finished.then(()=>this.notifyFinished()).catch(J),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),uh()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Eh=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ch(t){const e=Eh.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function Lo(t,e,n=1){const[s,r]=Ch(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return to(o)?parseFloat(o):o}return vs(r)?Lo(r,e,n+1):r}function As(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Io=new Set(["width","height","top","left","right","bottom",...Qe]),Dh={test:t=>t==="auto",parse:t=>t},Vo=t=>e=>e.test(t),$o=[Xe,_,ne,he,_l,bl,Dh],Dr=t=>$o.find(Vo(t));function Oh(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||so(t):!0}const Rh=new Set(["brightness","contrast","saturate","opacity"]);function Mh(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(ws)||[];if(!s)return t;const r=n.replace(s,"");let i=Rh.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const jh=/\b([a-z-]*)\(.*?\)/gu,Gn={...pe,getAnimatableNone:t=>{const e=t.match(jh);return e?e.map(Mh).join(" "):t}},Or={...Xe,transform:Math.round},Lh={rotate:he,rotateX:he,rotateY:he,rotateZ:he,scale:Vt,scaleX:Vt,scaleY:Vt,scaleZ:Vt,skew:he,skewX:he,skewY:he,distance:_,translateX:_,translateY:_,translateZ:_,x:_,y:_,z:_,perspective:_,transformPerspective:_,opacity:vt,originX:yr,originY:yr,originZ:_},Es={borderWidth:_,borderTopWidth:_,borderRightWidth:_,borderBottomWidth:_,borderLeftWidth:_,borderRadius:_,radius:_,borderTopLeftRadius:_,borderTopRightRadius:_,borderBottomRightRadius:_,borderBottomLeftRadius:_,width:_,maxWidth:_,height:_,maxHeight:_,top:_,right:_,bottom:_,left:_,padding:_,paddingTop:_,paddingRight:_,paddingBottom:_,paddingLeft:_,margin:_,marginTop:_,marginRight:_,marginBottom:_,marginLeft:_,backgroundPositionX:_,backgroundPositionY:_,...Lh,zIndex:Or,fillOpacity:vt,strokeOpacity:vt,numOctaves:Or},Ih={...Es,color:F,backgroundColor:F,outlineColor:F,fill:F,stroke:F,borderColor:F,borderTopColor:F,borderRightColor:F,borderBottomColor:F,borderLeftColor:F,filter:Gn,WebkitFilter:Gn},Fo=t=>Ih[t];function Uo(t,e){let n=Fo(t);return n!==Gn&&(n=pe),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Vh=new Set(["auto","none","0"]);function $h(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!Vh.has(i)&&wt(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=Uo(n,r)}class Fh extends ks{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),vs(u))){const l=Lo(u,n.current);l!==void 0&&(e[c]=l),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Io.has(s)||e.length!==2)return;const[r,i]=e,o=Dr(r),a=Dr(i);if(o!==a)if(kr(o)&&kr(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else ke[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||Oh(e[r]))&&s.push(r);s.length&&$h(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ke[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=ke[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Uh(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(n==null?void 0:n[t])??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const Rr=30,Bh=t=>!isNaN(parseFloat(t));class Nh{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{var o,a;const i=H.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();r&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=H.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Bh(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ms);const s=this.events[e].add(n);return e==="change"?()=>{s(),O.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=H.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Rr)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rr);return ro(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ge(t,e){return new Nh(t,e)}const Bo=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:Cs}=go(queueMicrotask,!1),X={x:!1,y:!1};function No(){return X.x||X.y}function Wh(t){return t==="x"||t==="y"?X[t]?null:(X[t]=!0,()=>{X[t]=!1}):X.x||X.y?null:(X.x=X.y=!0,()=>{X.x=X.y=!1})}function Wo(t,e){const n=Uh(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function Mr(t){return!(t.pointerType==="touch"||No())}function qh(t,e,n={}){const[s,r,i]=Wo(t,n),o=a=>{if(!Mr(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const l=h=>{Mr(h)&&(u(h),c.removeEventListener("pointerleave",l))};c.addEventListener("pointerleave",l,r)};return s.forEach(a=>{a.addEventListener("pointerenter",o,r)}),i}const qo=(t,e)=>e?t===e?!0:qo(t,e.parentElement):!1,Ds=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Hh=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kh(t){return Hh.has(t.tagName)||t.tabIndex!==-1}const Nt=new WeakSet;function jr(t){return e=>{e.key==="Enter"&&t(e)}}function vn(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zh=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=jr(()=>{if(Nt.has(n))return;vn(n,"down");const r=jr(()=>{vn(n,"up")}),i=()=>vn(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Lr(t){return Ds(t)&&!No()}function Gh(t,e,n={}){const[s,r,i]=Wo(t,n),o=a=>{const c=a.currentTarget;if(!Lr(a))return;Nt.add(c);const u=e(c,a),l=(f,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),Nt.has(c)&&Nt.delete(c),Lr(f)&&typeof u=="function"&&u(f,{success:m})},h=f=>{l(f,c===window||c===document||n.useGlobalTarget||qo(c,f.target))},d=f=>{l(f,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",d,r)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),jo(a)&&(a.addEventListener("focus",u=>zh(u,r)),!Kh(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Ho(t){return no(t)&&"ownerSVGElement"in t}function Yh(t){return Ho(t)&&t.tagName==="svg"}const U=t=>!!(t&&t.getVelocity),Jh=[...$o,F,pe],Xh=t=>Jh.find(Vo(t)),Ko=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Qh(t=!0){const e=T.useContext(us);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=T.useId();T.useEffect(()=>{if(t)return r(i)},[t]);const o=T.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,o]:[!0]}const zo=T.createContext({strict:!1}),Ir={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ye={};for(const t in Ir)Ye[t]={isEnabled:e=>Ir[t].some(n=>!!e[n])};function Zh(t){for(const e in t)Ye[e]={...Ye[e],...t[e]}}const ed=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jt(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ed.has(t)}let Go=t=>!Jt(t);function td(t){t&&(Go=e=>e.startsWith("on")?!Jt(e):t(e))}try{td(require("@emotion/is-prop-valid").default)}catch{}function nd(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(Go(r)||n===!0&&Jt(r)||!e&&!Jt(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function sd(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const tn=T.createContext({});function nn(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function bt(t){return typeof t=="string"||Array.isArray(t)}const Os=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rs=["initial",...Os];function sn(t){return nn(t.animate)||Rs.some(e=>bt(t[e]))}function Yo(t){return!!(sn(t)||t.variants)}function rd(t,e){if(sn(t)){const{initial:n,animate:s}=t;return{initial:n===!1||bt(n)?n:void 0,animate:bt(s)?s:void 0}}return t.inherit!==!1?e:{}}function id(t){const{initial:e,animate:n}=rd(t,T.useContext(tn));return T.useMemo(()=>({initial:e,animate:n}),[Vr(e),Vr(n)])}function Vr(t){return Array.isArray(t)?t.join(" "):t}const od=Symbol.for("motionComponentSymbol");function Be(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ad(t,e,n){return T.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Be(n)&&(n.current=s))},[e])}const Ms=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cd="framerAppearId",Jo="data-"+Ms(cd),Xo=T.createContext({});function ud(t,e,n,s,r){var p,g;const{visualElement:i}=T.useContext(tn),o=T.useContext(zo),a=T.useContext(us),c=T.useContext(Ko).reducedMotion,u=T.useRef(null);s=s||o.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const l=u.current,h=T.useContext(Xo);l&&!l.projection&&r&&(l.type==="html"||l.type==="svg")&&ld(u.current,n,r,h);const d=T.useRef(!1);T.useInsertionEffect(()=>{l&&d.current&&l.update(n,a)});const f=n[Jo],m=T.useRef(!!f&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,f))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,f)));return tl(()=>{l&&(d.current=!0,window.MotionIsMounted=!0,l.updateFeatures(),Cs.render(l.render),m.current&&l.animationState&&l.animationState.animateChanges())}),T.useEffect(()=>{l&&(!m.current&&l.animationState&&l.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,f)}),m.current=!1))}),l}function ld(t,e,n,s){const{layoutId:r,layout:i,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Qo(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!o||a&&Be(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:l,layoutScroll:c,layoutRoot:u})}function Qo(t){if(t)return t.options.allowProjection!==!1?t.projection:Qo(t.parent)}function hd({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&Zh(t);function i(a,c){let u;const l={...T.useContext(Ko),...a,layoutId:dd(a)},{isStatic:h}=l,d=id(a),f=s(a,h);if(!h&&cs){fd();const m=md(l);u=m.MeasureLayout,d.visualElement=ud(r,f,l,e,m.ProjectionNode)}return En.jsxs(tn.Provider,{value:d,children:[u&&d.visualElement?En.jsx(u,{visualElement:d.visualElement,...l}):null,n(r,a,ad(f,d.visualElement,c),f,h,d.visualElement)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const o=T.forwardRef(i);return o[od]=r,o}function dd({layoutId:t}){const e=T.useContext(eo).id;return e&&t!==void 0?e+"-"+t:t}function fd(t,e){T.useContext(zo).strict}function md(t){const{drag:e,layout:n}=Ye;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const _t={};function pd(t){for(const e in t)_t[e]=t[e],ys(e)&&(_t[e].isCSSVariable=!0)}function Zo(t,{layout:e,layoutId:n}){return Ze.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_t[t]||t==="opacity")}const gd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yd=Qe.length;function vd(t,e,n){let s="",r=!0;for(let i=0;i<yd;i++){const o=Qe[i],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=Bo(a,Es[o]);if(!c){r=!1;const l=gd[o]||o;s+=`${l}(${u}) `}n&&(e[o]=u)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function js(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(Ze.has(c)){o=!0;continue}else if(ys(c)){r[c]=u;continue}else{const l=Bo(u,Es[c]);c.startsWith("origin")?(a=!0,i[c]=l):s[c]=l}}if(e.transform||(o||n?s.transform=vd(e,t.transform,n):s.transform&&(s.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:l=0}=i;s.transformOrigin=`${c} ${u} ${l}`}}const Ls=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ea(t,e,n){for(const s in e)!U(e[s])&&!Zo(s,n)&&(t[s]=e[s])}function wd({transformTemplate:t},e){return T.useMemo(()=>{const n=Ls();return js(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bd(t,e){const n=t.style||{},s={};return ea(s,n,t),Object.assign(s,wd(t,e)),s}function _d(t,e){const n={},s=bd(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const Td={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sd={offset:"strokeDashoffset",array:"strokeDasharray"};function xd(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?Td:Sd;t[i.offset]=_.transform(-s);const o=_.transform(e),a=_.transform(n);t[i.array]=`${o} ${a}`}function ta(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:i=1,pathOffset:o=0,...a},c,u,l){if(js(t,a,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:d}=t;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=(l==null?void 0:l.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&xd(h,r,i,o,!1)}const na=()=>({...Ls(),attrs:{}}),sa=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Pd(t,e,n,s){const r=T.useMemo(()=>{const i=na();return ta(i,e,sa(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};ea(i,t.style,t),r.style={...i,...r.style}}return r}const kd=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Is(t){return typeof t!="string"||t.includes("-")?!1:!!(kd.indexOf(t)>-1||/[A-Z]/u.test(t))}function Ad(t=!1){return(n,s,r,{latestValues:i},o)=>{const c=(Is(n)?Pd:_d)(s,i,o,n),u=nd(s,typeof n=="string",t),l=n!==T.Fragment?{...u,...c,ref:r}:{},{children:h}=s,d=T.useMemo(()=>U(h)?h.get():h,[h]);return T.createElement(n,{...l,children:d})}}function $r(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Vs(t,e,n,s){if(typeof e=="function"){const[r,i]=$r(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=$r(s);e=e(n!==void 0?n:t.custom,r,i)}return e}function Wt(t){return U(t)?t.get():t}function Ed({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:Cd(n,s,r,t),renderState:e()}}const ra=t=>(e,n)=>{const s=T.useContext(tn),r=T.useContext(us),i=()=>Ed(t,e,s,r);return n?i():el(i)};function Cd(t,e,n,s){const r={},i=s(t,{});for(const d in i)r[d]=Wt(i[d]);let{initial:o,animate:a}=t;const c=sn(t),u=Yo(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let l=n?n.initial===!1:!1;l=l||o===!1;const h=l?a:o;if(h&&typeof h!="boolean"&&!nn(h)){const d=Array.isArray(h)?h:[h];for(let f=0;f<d.length;f++){const m=Vs(t,d[f]);if(m){const{transitionEnd:p,transition:g,...y}=m;for(const b in y){let v=y[b];if(Array.isArray(v)){const S=l?v.length-1:0;v=v[S]}v!==null&&(r[b]=v)}for(const b in p)r[b]=p[b]}}}return r}function $s(t,e,n){var i;const{style:s}=t,r={};for(const o in s)(U(s[o])||e.style&&U(e.style[o])||Zo(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(r[o]=s[o]);return r}const Dd={useVisualState:ra({scrapeMotionValuesFromProps:$s,createRenderState:Ls})};function ia(t,e,n){const s=$s(t,e,n);for(const r in t)if(U(t[r])||U(e[r])){const i=Qe.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}const Od={useVisualState:ra({scrapeMotionValuesFromProps:ia,createRenderState:na})};function Rd(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...Is(s)?Od:Dd,preloadedFeatures:t,useRender:Ad(r),createVisualElement:e,Component:s};return hd(o)}}function Tt(t,e,n){const s=t.getProps();return Vs(s,e,n!==void 0?n:s.custom,t)}const Yn=t=>Array.isArray(t);function Md(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ge(n))}function jd(t){return Yn(t)?t[t.length-1]||0:t}function Ld(t,e){const n=Tt(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const o in i){const a=jd(i[o]);Md(t,o,a)}}function Id(t){return!!(U(t)&&t.add)}function Jn(t,e){const n=t.getValue("willChange");if(Id(n))return n.add(e);if(!n&&ae.WillChange){const s=new ae.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function oa(t){return t.props[Jo]}const Vd=t=>t!==null;function $d(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(Vd),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[i]}const Fd={type:"spring",stiffness:500,damping:25,restSpeed:10},Ud=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Bd={type:"keyframes",duration:.8},Nd={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wd=(t,{keyframes:e})=>e.length>2?Bd:Ze.has(t)?t.startsWith("scale")?Ud(e[1]):Fd:Nd;function qd({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...l}){return!!Object.keys(l).length}const Fs=(t,e,n,s={},r,i)=>o=>{const a=As(s,t)||{},c=a.delay||s.delay||0;let{elapsed:u=0}=s;u=u-ee(c);const l={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:r};qd(a)||Object.assign(l,Wd(t,l)),l.duration&&(l.duration=ee(l.duration)),l.repeatDelay&&(l.repeatDelay=ee(l.repeatDelay)),l.from!==void 0&&(l.keyframes[0]=l.from);let h=!1;if((l.type===!1||l.duration===0&&!l.repeatDelay)&&(l.duration=0,l.delay===0&&(h=!0)),(ae.instantAnimations||ae.skipAnimations)&&(h=!0,l.duration=0,l.delay=0),l.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const d=$d(l.keyframes,a);if(d!==void 0){O.update(()=>{l.onUpdate(d),l.onComplete()});return}}return a.isSync?new Ps(l):new Ah(l)};function Hd({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function aa(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;s&&(i=s);const c=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const l in a){const h=t.getValue(l,t.latestValues[l]??null),d=a[l];if(d===void 0||u&&Hd(u,l))continue;const f={delay:n,...As(i||{},l)},m=h.get();if(m!==void 0&&!h.isAnimating&&!Array.isArray(d)&&d===m&&!f.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=oa(t);if(y){const b=window.MotionHandoffAnimation(y,l,O);b!==null&&(f.startTime=b,p=!0)}}Jn(t,l),h.start(Fs(l,h,d,t.shouldReduceMotion&&Io.has(l)?{type:!1}:f,t,p));const g=h.animation;g&&c.push(g)}return o&&Promise.all(c).then(()=>{O.update(()=>{o&&Ld(t,o)})}),c}function Xn(t,e,n={}){var c;const s=Tt(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(aa(t,s,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:l=0,staggerChildren:h,staggerDirection:d}=r;return Kd(t,e,l+u,h,d,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[u,l]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>l())}else return Promise.all([i(),o(n.delay)])}function Kd(t,e,n=0,s=0,r=1,i){const o=[],a=(t.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>a-u*s;return Array.from(t.variantChildren).sort(zd).forEach((u,l)=>{u.notify("AnimationStart",e),o.push(Xn(u,e,{...i,delay:n+c(l)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function zd(t,e){return t.sortNodePosition(e)}function Gd(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>Xn(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=Xn(t,e,n);else{const r=typeof e=="function"?Tt(t,e,n.custom):e;s=Promise.all(aa(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function ca(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const Yd=Rs.length;function ua(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ua(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Yd;n++){const s=Rs[n],r=t.props[s];(bt(r)||r===!1)&&(e[s]=r)}return e}const Jd=[...Os].reverse(),Xd=Os.length;function Qd(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Gd(t,n,s)))}function Zd(t){let e=Qd(t),n=Fr(),s=!0;const r=c=>(u,l)=>{var d;const h=Tt(t,l,c==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:m,...p}=h;u={...u,...p,...m}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,l=ua(t.parent)||{},h=[],d=new Set;let f={},m=1/0;for(let g=0;g<Xd;g++){const y=Jd[g],b=n[y],v=u[y]!==void 0?u[y]:l[y],S=bt(v),w=y===c?b.isActive:null;w===!1&&(m=g);let E=v===l[y]&&v!==u[y]&&S;if(E&&s&&t.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...f},!b.isActive&&w===null||!v&&!b.prevProp||nn(v)||typeof v=="boolean")continue;const L=ef(b.prevProp,v);let P=L||y===c&&b.isActive&&!E&&S||g>m&&S,W=!1;const z=Array.isArray(v)?v:[v];let Ce=z.reduce(r(y),{});w===!1&&(Ce={});const{prevResolvedValues:Us={}}=b,Wa={...Us,...Ce},Bs=B=>{P=!0,d.has(B)&&(W=!0,d.delete(B)),b.needsAnimating[B]=!0;const re=t.getValue(B);re&&(re.liveStyle=!1)};for(const B in Wa){const re=Ce[B],on=Us[B];if(f.hasOwnProperty(B))continue;let an=!1;Yn(re)&&Yn(on)?an=!ca(re,on):an=re!==on,an?re!=null?Bs(B):d.add(B):re!==void 0&&d.has(B)?Bs(B):b.protectedKeys[B]=!0}b.prevProp=v,b.prevResolvedValues=Ce,b.isActive&&(f={...f,...Ce}),s&&t.blockInitialAnimation&&(P=!1),P&&(!(E&&L)||W)&&h.push(...z.map(B=>({animation:B,options:{type:y}})))}if(d.size){const g={};if(typeof u.initial!="boolean"){const y=Tt(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(g.transition=y.transition)}d.forEach(y=>{const b=t.getBaseTarget(y),v=t.getValue(y);v&&(v.liveStyle=!0),g[y]=b??null}),h.push({animation:g})}let p=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),s=!1,p?e(h):Promise.resolve()}function a(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(d=>{var f;return(f=d.animationState)==null?void 0:f.setActive(c,u)}),n[c].isActive=u;const l=o(c);for(const d in n)n[d].protectedKeys={};return l}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Fr(),s=!0}}}function ef(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ca(e,t):!1}function we(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fr(){return{animate:we(!0),whileInView:we(),whileHover:we(),whileTap:we(),whileDrag:we(),whileFocus:we(),exit:we()}}class ye{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tf extends ye{constructor(e){super(e),e.animationState||(e.animationState=Zd(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nn(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let nf=0;class sf extends ye{constructor(){super(...arguments),this.id=nf++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const rf={animation:{Feature:tf},exit:{Feature:sf}};function St(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ct(t){return{point:{x:t.pageX,y:t.pageY}}}const of=t=>e=>Ds(e)&&t(e,Ct(e));function ft(t,e,n,s){return St(t,e,of(n),s)}function la({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function af({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cf(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const ha=1e-4,uf=1-ha,lf=1+ha,da=.01,hf=0-da,df=0+da;function N(t){return t.max-t.min}function ff(t,e,n){return Math.abs(t-e)<=n}function Ur(t,e,n,s=.5){t.origin=s,t.originPoint=D(e.min,e.max,t.origin),t.scale=N(n)/N(e),t.translate=D(n.min,n.max,t.origin)-t.originPoint,(t.scale>=uf&&t.scale<=lf||isNaN(t.scale))&&(t.scale=1),(t.translate>=hf&&t.translate<=df||isNaN(t.translate))&&(t.translate=0)}function mt(t,e,n,s){Ur(t.x,e.x,n.x,s?s.originX:void 0),Ur(t.y,e.y,n.y,s?s.originY:void 0)}function Br(t,e,n){t.min=n.min+e.min,t.max=t.min+N(e)}function mf(t,e,n){Br(t.x,e.x,n.x),Br(t.y,e.y,n.y)}function Nr(t,e,n){t.min=e.min-n.min,t.max=t.min+N(e)}function pt(t,e,n){Nr(t.x,e.x,n.x),Nr(t.y,e.y,n.y)}const Wr=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ne=()=>({x:Wr(),y:Wr()}),qr=()=>({min:0,max:0}),M=()=>({x:qr(),y:qr()});function Y(t){return[t("x"),t("y")]}function wn(t){return t===void 0||t===1}function Qn({scale:t,scaleX:e,scaleY:n}){return!wn(t)||!wn(e)||!wn(n)}function _e(t){return Qn(t)||fa(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fa(t){return Hr(t.x)||Hr(t.y)}function Hr(t){return t&&t!=="0%"}function Xt(t,e,n){const s=t-n,r=e*s;return n+r}function Kr(t,e,n,s,r){return r!==void 0&&(t=Xt(t,r,s)),Xt(t,n,s)+e}function Zn(t,e=0,n=1,s,r){t.min=Kr(t.min,e,n,s,r),t.max=Kr(t.max,e,n,s,r)}function ma(t,{x:e,y:n}){Zn(t.x,e.translate,e.scale,e.originPoint),Zn(t.y,n.translate,n.scale,n.originPoint)}const zr=.999999999999,Gr=1.0000000000001;function pf(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,o;for(let a=0;a<r;a++){i=n[a],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qe(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ma(t,o)),s&&_e(i.latestValues)&&qe(t,i.latestValues))}e.x<Gr&&e.x>zr&&(e.x=1),e.y<Gr&&e.y>zr&&(e.y=1)}function We(t,e){t.min=t.min+e,t.max=t.max+e}function Yr(t,e,n,s,r=.5){const i=D(t.min,t.max,r);Zn(t,e,n,i,s)}function qe(t,e){Yr(t.x,e.x,e.scaleX,e.scale,e.originX),Yr(t.y,e.y,e.scaleY,e.scale,e.originY)}function pa(t,e){return la(cf(t.getBoundingClientRect(),e))}function gf(t,e,n){const s=pa(t,n),{scroll:r}=e;return r&&(We(s.x,r.offset.x),We(s.y,r.offset.y)),s}const ga=({current:t})=>t?t.ownerDocument.defaultView:null,Jr=(t,e)=>Math.abs(t-e);function yf(t,e){const n=Jr(t.x,e.x),s=Jr(t.y,e.y);return Math.sqrt(n**2+s**2)}class ya{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_n(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=yf(h.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:m}=h,{timestamp:p}=$;this.history.push({...m,timestamp:p});const{onStart:g,onMove:y}=this.handlers;d||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=bn(d,this.transformPagePoint),O.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:f,onSessionEnd:m,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=_n(h.type==="pointercancel"?this.lastMoveEventInfo:bn(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,g),m&&m(h,g)},!Ds(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const o=Ct(e),a=bn(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=$;this.history=[{...c,timestamp:u}];const{onSessionStart:l}=n;l&&l(e,_n(a,this.history)),this.removeListeners=kt(ft(this.contextWindow,"pointermove",this.handlePointerMove),ft(this.contextWindow,"pointerup",this.handlePointerUp),ft(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),me(this.updatePoint)}}function bn(t,e){return e?{point:e(t.point)}:t}function Xr(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _n({point:t},e){return{point:t,delta:Xr(t,va(e)),offset:Xr(t,vf(e)),velocity:wf(e,.1)}}function vf(t){return t[0]}function va(t){return t[t.length-1]}function wf(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=va(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>ee(e)));)n--;if(!s)return{x:0,y:0};const i=te(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bf(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?D(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?D(n,t,s.max):Math.min(t,n)),t}function Qr(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _f(t,{top:e,left:n,bottom:s,right:r}){return{x:Qr(t.x,n,r),y:Qr(t.y,e,s)}}function Zr(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Tf(t,e){return{x:Zr(t.x,e.x),y:Zr(t.y,e.y)}}function Sf(t,e){let n=.5;const s=N(t),r=N(e);return r>s?n=yt(e.min,e.max-s,t.min):s>r&&(n=yt(t.min,t.max-r,e.min)),oe(0,1,n)}function xf(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const es=.35;function Pf(t=es){return t===!1?t=0:t===!0&&(t=es),{x:ei(t,"left","right"),y:ei(t,"top","bottom")}}function ei(t,e,n){return{min:ti(t,e),max:ti(t,n)}}function ti(t,e){return typeof t=="number"?t:t[e]||0}const kf=new WeakMap;class Af{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=M(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=l=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ct(l).point)},i=(l,h)=>{const{drag:d,dragPropagation:f,onDragStart:m}=this.getProps();if(d&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wh(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Y(g=>{let y=this.getAxisMotionValue(g).get()||0;if(ne.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const v=b.layout.layoutBox[g];v&&(y=N(v)*(parseFloat(y)/100))}}this.originPoint[g]=y}),m&&O.postRender(()=>m(l,h)),Jn(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,h)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:m,onDrag:p}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:g}=h;if(f&&this.currentDirection===null){this.currentDirection=Ef(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),p&&p(l,h)},a=(l,h)=>this.stop(l,h),c=()=>Y(l=>{var h;return this.getAnimationState(l)==="paused"&&((h=this.getAxisMotionValue(l).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ya(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ga(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&O.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!$t(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=bf(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;e&&Be(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=_f(s.layoutBox,e):this.constraints=!1,this.elastic=Pf(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Y(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=xf(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Be(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=gf(s,r.root,this.visualElement.getTransformPagePoint());let o=Tf(r.layout.layoutBox,i);if(n){const a=n(af(o));this.hasMutatedConstraints=!!a,a&&(o=la(a))}return o}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Y(l=>{if(!$t(l,n,this.currentDirection))return;let h=c&&c[l]||{};o&&(h={min:0,max:0});const d=r?200:1e6,f=r?40:1e7,m={type:"inertia",velocity:s?e[l]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(l,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Jn(this.visualElement,e),s.start(Fs(e,s,0,n,this.visualElement,!1))}stopAnimation(){Y(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Y(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Y(n=>{const{drag:s}=this.getProps();if(!$t(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];i.set(e[n]-D(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Be(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Y(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();r[o]=Sf({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Y(o=>{if(!$t(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(D(c,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;kf.set(this.visualElement,this);const e=this.visualElement.current,n=ft(e,"pointerdown",c=>{const{drag:u,dragListener:l=!0}=this.getProps();u&&l&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Be(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),O.read(s);const o=St(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Y(l=>{const h=this.getAxisMotionValue(l);h&&(this.originPoint[l]+=c[l].translate,h.set(h.get()+c[l].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:o=es,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function $t(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ef(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Cf extends ye{constructor(e){super(e),this.removeGroupControls=J,this.removeListeners=J,this.controls=new Af(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||J}unmount(){this.removeGroupControls(),this.removeListeners()}}const ni=t=>(e,n)=>{t&&O.postRender(()=>t(e,n))};class Df extends ye{constructor(){super(...arguments),this.removePointerDownListener=J}onPointerDown(e){this.session=new ya(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ga(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:ni(e),onStart:ni(n),onMove:s,onEnd:(i,o)=>{delete this.session,r&&O.postRender(()=>r(i,o))}}}mount(){this.removePointerDownListener=ft(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function si(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const nt={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_.test(t))t=parseFloat(t);else return t;const n=si(t,e.target.x),s=si(t,e.target.y);return`${n}% ${s}%`}},Of={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=pe.parse(t);if(r.length>5)return s;const i=pe.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=c;const u=D(a,c,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),i(r)}};class Rf extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;pd(Mf),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qt.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,r||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||O.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cs.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wa(t){const[e,n]=Qh(),s=T.useContext(eo);return En.jsx(Rf,{...t,layoutGroup:s,switchLayoutGroup:T.useContext(Xo),isPresent:e,safeToRemove:n})}const Mf={borderRadius:{...nt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nt,borderTopRightRadius:nt,borderBottomLeftRadius:nt,borderBottomRightRadius:nt,boxShadow:Of};function jf(t,e,n){const s=U(t)?t:Ge(t);return s.start(Fs("",s,e,n)),s.animation}const Lf=(t,e)=>t.depth-e.depth;class If{constructor(){this.children=[],this.isDirty=!1}add(e){ls(this.children,e),this.isDirty=!0}remove(e){hs(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lf),this.isDirty=!1,this.children.forEach(e)}}function Vf(t,e){const n=H.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(me(s),t(i-e))};return O.setup(s,!0),()=>me(s)}const ba=["TopLeft","TopRight","BottomLeft","BottomRight"],$f=ba.length,ri=t=>typeof t=="string"?parseFloat(t):t,ii=t=>typeof t=="number"||_.test(t);function Ff(t,e,n,s,r,i){r?(t.opacity=D(0,n.opacity??1,Uf(s)),t.opacityExit=D(e.opacity??1,0,Bf(s))):i&&(t.opacity=D(e.opacity??1,n.opacity??1,s));for(let o=0;o<$f;o++){const a=`border${ba[o]}Radius`;let c=oi(e,a),u=oi(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ii(c)===ii(u)?(t[a]=Math.max(D(ri(c),ri(u),s),0),(ne.test(u)||ne.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=D(e.rotate||0,n.rotate||0,s))}function oi(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Uf=_a(0,.5,ho),Bf=_a(.5,.95,J);function _a(t,e,n){return s=>s<t?0:s>e?1:n(yt(t,e,s))}function ai(t,e){t.min=e.min,t.max=e.max}function G(t,e){ai(t.x,e.x),ai(t.y,e.y)}function ci(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ui(t,e,n,s,r){return t-=e,t=Xt(t,1/n,s),r!==void 0&&(t=Xt(t,1/r,s)),t}function Nf(t,e=0,n=1,s=.5,r,i=t,o=t){if(ne.test(e)&&(e=parseFloat(e),e=D(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=D(i.min,i.max,s);t===i&&(a-=e),t.min=ui(t.min,e,n,a,r),t.max=ui(t.max,e,n,a,r)}function li(t,e,[n,s,r],i,o){Nf(t,e[n],e[s],e[r],e.scale,i,o)}const Wf=["x","scaleX","originX"],qf=["y","scaleY","originY"];function hi(t,e,n,s){li(t.x,e,Wf,n?n.x:void 0,s?s.x:void 0),li(t.y,e,qf,n?n.y:void 0,s?s.y:void 0)}function di(t){return t.translate===0&&t.scale===1}function Ta(t){return di(t.x)&&di(t.y)}function fi(t,e){return t.min===e.min&&t.max===e.max}function Hf(t,e){return fi(t.x,e.x)&&fi(t.y,e.y)}function mi(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Sa(t,e){return mi(t.x,e.x)&&mi(t.y,e.y)}function pi(t){return N(t.x)/N(t.y)}function gi(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Kf{constructor(){this.members=[]}add(e){ls(this.members,e),e.scheduleRender()}remove(e){if(hs(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zf(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||i||o)&&(s=`translate3d(${r}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:l,rotateX:h,rotateY:d,skewX:f,skewY:m}=n;u&&(s=`perspective(${u}px) ${s}`),l&&(s+=`rotate(${l}deg) `),h&&(s+=`rotateX(${h}deg) `),d&&(s+=`rotateY(${d}deg) `),f&&(s+=`skewX(${f}deg) `),m&&(s+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(s+=`scale(${a}, ${c})`),s||"none"}const Tn=["","X","Y","Z"],Gf={visibility:"hidden"},Yf=1e3;let Jf=0;function Sn(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function xa(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oa(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",O,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&xa(s)}function Pa({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Jf++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Zf),this.nodes.forEach(rm),this.nodes.forEach(im),this.nodes.forEach(em)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new If)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ms),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ho(o)&&!Yh(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let l;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,l&&l(),l=Vf(h,250),qt.hasAnimatedSinceResize&&(qt.hasAnimatedSinceResize=!1,this.nodes.forEach(vi))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:d,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||lm,{onLayoutAnimationStart:p,onLayoutAnimationComplete:g}=u.getProps(),y=!this.targetLayout||!Sa(this.targetLayout,f),b=!h&&d;if(this.options.layoutRoot||this.resumeFrom||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(l,b);const v={...As(m,"layout"),onPlay:p,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else h||vi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),me(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(om),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xa(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let l=0;l<this.path.length;l++){const h=this.path[l];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yi);return}this.isUpdating||this.nodes.forEach(nm),this.isUpdating=!1,this.nodes.forEach(sm),this.nodes.forEach(Xf),this.nodes.forEach(Qf),this.clearAllSnapshots();const a=H.now();$.delta=oe(0,1e3/60,a-$.timestamp),$.timestamp=a,$.isProcessing=!0,mn.update.process($),mn.preRender.process($),mn.render.process($),$.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cs.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tm),this.sharedNodes.forEach(am)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,O.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){O.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!N(this.snapshot.measuredBox.x)&&!N(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=M(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Ta(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,l=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||_e(this.latestValues)||l)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),hm(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return M();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(dm))){const{scroll:l}=this.root;l&&(We(a.x,l.offset.x),We(a.y,l.offset.y))}return a}removeElementScroll(o){var c;const a=M();if(G(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const l=this.path[u],{scroll:h,options:d}=l;l!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&G(a,o),We(a.x,h.offset.x),We(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const c=M();G(c,o);for(let u=0;u<this.path.length;u++){const l=this.path[u];!a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&qe(c,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),_e(l.latestValues)&&qe(c,l.latestValues)}return _e(this.latestValues)&&qe(c,this.latestValues),c}removeTransform(o){const a=M();G(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!_e(u.latestValues))continue;Qn(u.latestValues)&&u.updateSnapshot();const l=M(),h=u.measurePageBox();G(l,h),hi(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,l)}return _e(this.latestValues)&&hi(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var d;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:l,layoutId:h}=this.options;if(!(!this.layout||!(l||h))){if(this.resolvedRelativeTargetAt=$.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=M(),this.relativeTargetOrigin=M(),pt(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),G(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=M(),this.targetWithTransforms=M()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mf(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):G(this.target,this.layout.layoutBox),ma(this.target,this.targetDelta)):G(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=M(),this.relativeTargetOrigin=M(),pt(this.relativeTargetOrigin,this.target,f.target),G(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Qn(this.parent.latestValues)||fa(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===$.timestamp&&(c=!1),c)return;const{layout:u,layoutId:l}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||l))return;G(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;pf(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=M());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ci(this.prevProjectionDelta.x,this.projectionDelta.x),ci(this.prevProjectionDelta.y,this.projectionDelta.y)),mt(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!gi(this.projectionDelta.x,this.prevProjectionDelta.x)||!gi(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ne(),this.projectionDelta=Ne(),this.projectionDeltaWithTransform=Ne()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},l={...this.latestValues},h=Ne();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=M(),f=c?c.source:void 0,m=this.layout?this.layout.source:void 0,p=f!==m,g=this.getStack(),y=!g||g.members.length<=1,b=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(um));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const w=S/1e3;wi(h.x,o.x,w),wi(h.y,o.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pt(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cm(this.relativeTarget,this.relativeTargetOrigin,d,w),v&&Hf(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=M()),G(v,this.relativeTarget)),p&&(this.animationValues=l,Ff(l,u,this.latestValues,w,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(!1),this.pendingAnimation&&(me(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=O.update(()=>{qt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ge(0)),this.currentAnimation=jf(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yf),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:l}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&ka(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||M();const h=N(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const d=N(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+d}G(a,c),qe(a,l),mt(this.projectionDeltaWithTransform,this.layoutCorrected,a,l)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Kf),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&Sn("z",o,u,this.animationValues);for(let l=0;l<Tn.length;l++)Sn(`rotate${Tn[l]}`,o,u,this.animationValues),Sn(`skew${Tn[l]}`,o,u,this.animationValues);o.render();for(const l in u)o.setStaticValue(l,u[l]),this.animationValues&&(this.animationValues[l]=u[l]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Gf;const a={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Wt(o==null?void 0:o.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=Wt(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!_e(this.latestValues)&&(f.transform=c?c({},""):"none",this.hasProjected=!1),f}const l=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=zf(this.projectionDeltaWithTransform,this.treeScale,l),c&&(a.transform=c(l,a.transform));const{x:h,y:d}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${d.origin*100}% 0`,u.animationValues?a.opacity=u===this?l.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:l.opacityExit:a.opacity=u===this?l.opacity!==void 0?l.opacity:"":l.opacityExit!==void 0?l.opacityExit:0;for(const f in _t){if(l[f]===void 0)continue;const{correct:m,applyTo:p,isCSSVariable:g}=_t[f],y=a.transform==="none"?l[f]:m(l[f],u);if(p){const b=p.length;for(let v=0;v<b;v++)a[p[v]]=y}else g?this.options.visualElement.renderState.vars[f]=y:a[f]=y}return this.options.layoutId&&(a.pointerEvents=u===this?Wt(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(yi),this.root.sharedNodes.clear()}}}function Xf(t){t.updateLayout()}function Qf(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Y(h=>{const d=o?e.measuredBox[h]:e.layoutBox[h],f=N(d);d.min=s[h].min,d.max=d.min+f}):ka(i,e.layoutBox,s)&&Y(h=>{const d=o?e.measuredBox[h]:e.layoutBox[h],f=N(s[h]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const a=Ne();mt(a,s,e.layoutBox);const c=Ne();o?mt(c,t.applyTransform(r,!0),e.measuredBox):mt(c,s,e.layoutBox);const u=!Ta(a);let l=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const m=M();pt(m,e.layoutBox,d.layoutBox);const p=M();pt(p,s,f.layoutBox),Sa(m,p)||(l=!0),h.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:l})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Zf(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function em(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tm(t){t.clearSnapshot()}function yi(t){t.clearMeasurements()}function nm(t){t.isLayoutDirty=!1}function sm(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function vi(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rm(t){t.resolveTargetDelta()}function im(t){t.calcProjection()}function om(t){t.resetSkewAndRotation()}function am(t){t.removeLeadSnapshot()}function wi(t,e,n){t.translate=D(e.translate,0,n),t.scale=D(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bi(t,e,n,s){t.min=D(e.min,n.min,s),t.max=D(e.max,n.max,s)}function cm(t,e,n,s){bi(t.x,e.x,n.x,s),bi(t.y,e.y,n.y,s)}function um(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lm={duration:.45,ease:[.4,0,.1,1]},_i=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ti=_i("applewebkit/")&&!_i("chrome/")?Math.round:J;function Si(t){t.min=Ti(t.min),t.max=Ti(t.max)}function hm(t){Si(t.x),Si(t.y)}function ka(t,e,n){return t==="position"||t==="preserve-aspect"&&!ff(pi(e),pi(n),.2)}function dm(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const fm=Pa({attachResizeListener:(t,e)=>St(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xn={current:void 0},Aa=Pa({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xn.current){const t=new fm({});t.mount(window),t.setOptions({layoutScroll:!0}),xn.current=t}return xn.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mm={pan:{Feature:Df},drag:{Feature:Cf,ProjectionNode:Aa,MeasureLayout:wa}};function xi(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&O.postRender(()=>i(e,Ct(e)))}class pm extends ye{mount(){const{current:e}=this.node;e&&(this.unmount=qh(e,(n,s)=>(xi(this.node,s,"Start"),r=>xi(this.node,r,"End"))))}unmount(){}}class gm extends ye{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kt(St(this.node.current,"focus",()=>this.onFocus()),St(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pi(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&O.postRender(()=>i(e,Ct(e)))}class ym extends ye{mount(){const{current:e}=this.node;e&&(this.unmount=Gh(e,(n,s)=>(Pi(this.node,s,"Start"),(r,{success:i})=>Pi(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ts=new WeakMap,Pn=new WeakMap,vm=t=>{const e=ts.get(t.target);e&&e(t)},wm=t=>{t.forEach(vm)};function bm({root:t,...e}){const n=t||document;Pn.has(n)||Pn.set(n,{});const s=Pn.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(wm,{root:t,...e})),s[r]}function _m(t,e,n){const s=bm(e);return ts.set(t,n),s.observe(t),()=>{ts.delete(t),s.unobserve(t)}}const Tm={some:0,all:1};class Sm extends ye{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Tm[r]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:l,onViewportLeave:h}=this.node.getProps(),d=u?l:h;d&&d(c)};return _m(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(xm(e,n))&&this.startObserver()}unmount(){}}function xm({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Pm={inView:{Feature:Sm},tap:{Feature:ym},focus:{Feature:gm},hover:{Feature:pm}},km={layout:{ProjectionNode:Aa,MeasureLayout:wa}},ns={current:null},Ea={current:!1};function Am(){if(Ea.current=!0,!!cs)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ns.current=t.matches;t.addListener(e),e()}else ns.current=!1}const Em=new WeakMap;function Cm(t,e,n){for(const s in e){const r=e[s],i=n[s];if(U(r))t.addValue(s,r);else if(U(i))t.addValue(s,Ge(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(s);t.addValue(s,Ge(o!==void 0?o:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ki=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dm{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ks,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=H.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,O.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=sn(n),this.isVariantNode=Yo(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:l,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in h){const f=h[d];c[d]!==void 0&&U(f)&&f.set(c[d],!1)}}mount(e){this.current=e,Em.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Ea.current||Am(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ns.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),me(this.notifyUpdate),me(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ze.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&O.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ye){const n=Ye[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):M()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ki.length;s++){const r=ki[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,o=e[i];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Cm(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Ge(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(to(s)||so(s))?s=parseFloat(s):!Xh(s)&&pe.test(n)&&(s=Uo(e,n)),this.setBaseTarget(e,U(s)?s.get():s)),U(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=Vs(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(s=o[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!U(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ms),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Ca extends Dm{constructor(){super(...arguments),this.KeyframeResolver=Fh}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;U(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Da(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}function Om(t){return window.getComputedStyle(t)}class Rm extends Ca{constructor(){super(...arguments),this.type="html",this.renderInstance=Da}readValueFromInstance(e,n){var s;if(Ze.has(n))return(s=this.projection)!=null&&s.isProjecting?Wn(n):rh(e,n);{const r=Om(e),i=(ys(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return pa(e,n)}build(e,n,s){js(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return $s(e,n,s)}}const Oa=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Mm(t,e,n,s){Da(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(Oa.has(r)?r:Ms(r),e.attrs[r])}class jm extends Ca{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=M}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ze.has(n)){const s=Fo(n);return s&&s.default||0}return n=Oa.has(n)?n:Ms(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return ia(e,n,s)}build(e,n,s){ta(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){Mm(e,n,s,r)}mount(e){this.isSVGTag=sa(e.tagName),super.mount(e)}}const Lm=(t,e)=>Is(t)?new jm(e):new Rm(e,{allowProjection:t!==T.Fragment}),Im=Rd({...rf,...Pm,...mm,...km},Lm),Rg=sd(Im);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$m=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Ai=t=>{const e=$m(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ra=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Fm=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Um={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:o,...a},c)=>T.createElement("svg",{ref:c,...Um,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Ra("lucide",r),...!i&&!Fm(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,l])=>T.createElement(u,l)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=(t,e)=>{const n=T.forwardRef(({className:s,...r},i)=>T.createElement(Bm,{ref:i,iconNode:e,className:Ra(`lucide-${Vm(Ai(t))}`,`lucide-${t}`,s),...r}));return n.displayName=Ai(t),n};function Ma(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=Ma(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Nm(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=Ma(t))&&(s&&(s+=" "),s+=e);return s}const ja=6048e5,Wm=864e5,La=6e4,Ia=36e5,Ft=43200,Ei=1440,Ci=Symbol.for("constructDateFrom");function se(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Ci in t?t[Ci](e):t instanceof Date?new t.constructor(e):new Date(e)}function j(t,e){return se(e||t,t)}let qm={};function Dt(){return qm}function xt(t,e){var a,c,u,l;const n=Dt(),s=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((l=(u=n.locale)==null?void 0:u.options)==null?void 0:l.weekStartsOn)??0,r=j(t,e==null?void 0:e.in),i=r.getDay(),o=(i<s?7:0)+i-s;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Qt(t,e){return xt(t,{...e,weekStartsOn:1})}function Va(t,e){const n=j(t,e==null?void 0:e.in),s=n.getFullYear(),r=se(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const i=Qt(r),o=se(n,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=Qt(o);return n.getTime()>=i.getTime()?s+1:n.getTime()>=a.getTime()?s:s-1}function Zt(t){const e=j(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function rn(t,...e){const n=se.bind(null,t||e.find(s=>typeof s=="object"));return e.map(n)}function Di(t,e){const n=j(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Hm(t,e,n){const[s,r]=rn(n==null?void 0:n.in,t,e),i=Di(s),o=Di(r),a=+i-Zt(i),c=+o-Zt(o);return Math.round((a-c)/Wm)}function Km(t,e){const n=Va(t,e),s=se(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Qt(s)}function Ht(t,e){const n=+j(t)-+j(e);return n<0?-1:n>0?1:n}function zm(t){return se(t,Date.now())}function Gm(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ym(t){return!(!Gm(t)&&typeof t!="number"||isNaN(+j(t)))}function Jm(t,e,n){const[s,r]=rn(n==null?void 0:n.in,t,e),i=s.getFullYear()-r.getFullYear(),o=s.getMonth()-r.getMonth();return i*12+o}function Xm(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function Qm(t,e){return+j(t)-+j(e)}function Zm(t,e){const n=j(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function ep(t,e){const n=j(t,e==null?void 0:e.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function tp(t,e){const n=j(t,e==null?void 0:e.in);return+Zm(n,e)==+ep(n,e)}function np(t,e,n){const[s,r,i]=rn(n==null?void 0:n.in,t,t,e),o=Ht(r,i),a=Math.abs(Jm(r,i));if(a<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*a);let c=Ht(r,i)===-o;tp(s)&&a===1&&Ht(s,i)===1&&(c=!1);const u=o*(a-+c);return u===0?0:u}function sp(t,e,n){const s=Qm(t,e)/1e3;return Xm(n==null?void 0:n.roundingMethod)(s)}function rp(t,e){const n=j(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ip={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},op=(t,e,n)=>{let s;const r=ip[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function kn(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ap={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cp={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},up={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lp={date:kn({formats:ap,defaultWidth:"full"}),time:kn({formats:cp,defaultWidth:"full"}),dateTime:kn({formats:up,defaultWidth:"full"})},hp={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dp=(t,e,n,s)=>hp[t];function st(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;r=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const fp={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mp={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pp={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gp={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yp={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vp={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wp=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},bp={ordinalNumber:wp,era:st({values:fp,defaultWidth:"wide"}),quarter:st({values:mp,defaultWidth:"wide",argumentCallback:t=>t-1}),month:st({values:pp,defaultWidth:"wide"}),day:st({values:gp,defaultWidth:"wide"}),dayPeriod:st({values:yp,defaultWidth:"wide",formattingValues:vp,defaultFormattingWidth:"wide"})};function rt(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const o=i[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?Tp(a,h=>h.test(o)):_p(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const l=e.slice(o.length);return{value:u,rest:l}}}function _p(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Tp(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Sp(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(r.length);return{value:o,rest:a}}}const xp=/^(\d+)(th|st|nd|rd)?/i,Pp=/\d+/i,kp={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ap={any:[/^b/i,/^(a|c)/i]},Ep={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cp={any:[/1/i,/2/i,/3/i,/4/i]},Dp={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Op={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rp={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mp={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jp={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lp={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ip={ordinalNumber:Sp({matchPattern:xp,parsePattern:Pp,valueCallback:t=>parseInt(t,10)}),era:rt({matchPatterns:kp,defaultMatchWidth:"wide",parsePatterns:Ap,defaultParseWidth:"any"}),quarter:rt({matchPatterns:Ep,defaultMatchWidth:"wide",parsePatterns:Cp,defaultParseWidth:"any",valueCallback:t=>t+1}),month:rt({matchPatterns:Dp,defaultMatchWidth:"wide",parsePatterns:Op,defaultParseWidth:"any"}),day:rt({matchPatterns:Rp,defaultMatchWidth:"wide",parsePatterns:Mp,defaultParseWidth:"any"}),dayPeriod:rt({matchPatterns:jp,defaultMatchWidth:"any",parsePatterns:Lp,defaultParseWidth:"any"})},$a={code:"en-US",formatDistance:op,formatLong:lp,formatRelative:dp,localize:bp,match:Ip,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vp(t,e){const n=j(t,e==null?void 0:e.in);return Hm(n,rp(n))+1}function $p(t,e){const n=j(t,e==null?void 0:e.in),s=+Qt(n)-+Km(n);return Math.round(s/ja)+1}function Fa(t,e){var l,h,d,f;const n=j(t,e==null?void 0:e.in),s=n.getFullYear(),r=Dt(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=se((e==null?void 0:e.in)||t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const a=xt(o,e),c=se((e==null?void 0:e.in)||t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const u=xt(c,e);return+n>=+a?s+1:+n>=+u?s:s-1}function Fp(t,e){var a,c,u,l;const n=Dt(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((l=(u=n.locale)==null?void 0:u.options)==null?void 0:l.firstWeekContainsDate)??1,r=Fa(t,e),i=se((e==null?void 0:e.in)||t,0);return i.setFullYear(r,0,s),i.setHours(0,0,0,0),xt(i,e)}function Up(t,e){const n=j(t,e==null?void 0:e.in),s=+xt(n,e)-+Fp(n,e);return Math.round(s/ja)+1}function A(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const ce={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return A(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):A(n+1,2)},d(t,e){return A(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return A(t.getHours()%12||12,e.length)},H(t,e){return A(t.getHours(),e.length)},m(t,e){return A(t.getMinutes(),e.length)},s(t,e){return A(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return A(r,e.length)}},$e={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Oi={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return ce.y(t,e)},Y:function(t,e,n,s){const r=Fa(t,s),i=r>0?r:1-r;if(e==="YY"){const o=i%100;return A(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):A(i,e.length)},R:function(t,e){const n=Va(t);return A(n,e.length)},u:function(t,e){const n=t.getFullYear();return A(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return A(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return A(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return ce.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return A(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=Up(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):A(r,e.length)},I:function(t,e,n){const s=$p(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):A(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ce.d(t,e)},D:function(t,e,n){const s=Vp(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):A(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return A(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),i=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return A(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return A(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=$e.noon:s===0?r=$e.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=$e.evening:s>=12?r=$e.afternoon:s>=4?r=$e.morning:r=$e.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return ce.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ce.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):A(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):A(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ce.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ce.s(t,e)},S:function(t,e){return ce.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Mi(s);case"XXXX":case"XX":return Te(s);case"XXXXX":case"XXX":default:return Te(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return Mi(s);case"xxxx":case"xx":return Te(s);case"xxxxx":case"xxx":default:return Te(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ri(s,":");case"OOOO":default:return"GMT"+Te(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ri(s,":");case"zzzz":default:return"GMT"+Te(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return A(s,e.length)},T:function(t,e,n){return A(+t,e.length)}};function Ri(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),i=s%60;return i===0?n+String(r):n+String(r)+e+A(i,2)}function Mi(t,e){return t%60===0?(t>0?"-":"+")+A(Math.abs(t)/60,2):Te(t,e)}function Te(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=A(Math.trunc(s/60),2),i=A(s%60,2);return n+r+e+i}const ji=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ua=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bp=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return ji(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",ji(s,e)).replace("{{time}}",Ua(r,e))},Np={p:Ua,P:Bp},Wp=/^D+$/,qp=/^Y+$/,Hp=["D","DD","YY","YYYY"];function Kp(t){return Wp.test(t)}function zp(t){return qp.test(t)}function Gp(t,e,n){const s=Yp(t,e,n);if(console.warn(s),Hp.includes(t))throw new RangeError(s)}function Yp(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qp=/^'([^]*?)'?$/,Zp=/''/g,eg=/[a-zA-Z]/;function tg(t,e,n){var l,h,d,f;const s=Dt(),r=s.locale??$a,i=s.firstWeekContainsDate??((h=(l=s.locale)==null?void 0:l.options)==null?void 0:h.firstWeekContainsDate)??1,o=s.weekStartsOn??((f=(d=s.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,a=j(t,n==null?void 0:n.in);if(!Ym(a))throw new RangeError("Invalid time value");let c=e.match(Xp).map(m=>{const p=m[0];if(p==="p"||p==="P"){const g=Np[p];return g(m,r.formatLong)}return m}).join("").match(Jp).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:ng(m)};if(Oi[p])return{isToken:!0,value:m};if(p.match(eg))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});r.localize.preprocessor&&(c=r.localize.preprocessor(a,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return c.map(m=>{if(!m.isToken)return m.value;const p=m.value;(zp(p)||Kp(p))&&Gp(p,e,String(t));const g=Oi[p[0]];return g(a,p,r.localize,u)}).join("")}function ng(t){const e=t.match(Qp);return e?e[1].replace(Zp,"'"):t}function sg(t,e,n){const s=Dt(),r=(n==null?void 0:n.locale)??s.locale??$a,i=2520,o=Ht(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o}),[c,u]=rn(n==null?void 0:n.in,...o>0?[e,t]:[t,e]),l=sp(u,c),h=(Zt(u)-Zt(c))/1e3,d=Math.round((l-h)/60);let f;if(d<2)return n!=null&&n.includeSeconds?l<5?r.formatDistance("lessThanXSeconds",5,a):l<10?r.formatDistance("lessThanXSeconds",10,a):l<20?r.formatDistance("lessThanXSeconds",20,a):l<40?r.formatDistance("halfAMinute",0,a):l<60?r.formatDistance("lessThanXMinutes",1,a):r.formatDistance("xMinutes",1,a):d===0?r.formatDistance("lessThanXMinutes",1,a):r.formatDistance("xMinutes",d,a);if(d<45)return r.formatDistance("xMinutes",d,a);if(d<90)return r.formatDistance("aboutXHours",1,a);if(d<Ei){const m=Math.round(d/60);return r.formatDistance("aboutXHours",m,a)}else{if(d<i)return r.formatDistance("xDays",1,a);if(d<Ft){const m=Math.round(d/Ei);return r.formatDistance("xDays",m,a)}else if(d<Ft*2)return f=Math.round(d/Ft),r.formatDistance("aboutXMonths",f,a)}if(f=np(u,c),f<12){const m=Math.round(d/Ft);return r.formatDistance("xMonths",m,a)}else{const m=f%12,p=Math.trunc(f/12);return m<3?r.formatDistance("aboutXYears",p,a):m<9?r.formatDistance("overXYears",p,a):r.formatDistance("almostXYears",p+1,a)}}function rg(t,e){return sg(t,zm(t),e)}function Ba(t,e){const n=()=>se(e==null?void 0:e.in,NaN),r=cg(t);let i;if(r.date){const u=ug(r.date,2);i=lg(u.restDateString,u.year)}if(!i||isNaN(+i))return n();const o=+i;let a=0,c;if(r.time&&(a=hg(r.time),isNaN(a)))return n();if(r.timezone){if(c=dg(r.timezone),isNaN(c))return n()}else{const u=new Date(o+a),l=j(0,e==null?void 0:e.in);return l.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),l.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),l}return j(o+a+c,e==null?void 0:e.in)}const Ut={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ig=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,og=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ag=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cg(t){const e={},n=t.split(Ut.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],Ut.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ut.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const r=Ut.timezone.exec(s);r?(e.time=s.replace(r[1],""),e.timezone=r[1]):e.time=s}return e}function ug(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(n);if(!s)return{year:NaN,restDateString:""};const r=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:i===null?r:i*100,restDateString:t.slice((s[1]||s[2]).length)}}function lg(t,e){if(e===null)return new Date(NaN);const n=t.match(ig);if(!n)return new Date(NaN);const s=!!n[4],r=it(n[1]),i=it(n[2])-1,o=it(n[3]),a=it(n[4]),c=it(n[5])-1;if(s)return yg(e,a,c)?fg(e,a,c):new Date(NaN);{const u=new Date(0);return!pg(e,i,o)||!gg(e,r)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(r,o)),u)}}function it(t){return t?parseInt(t):1}function hg(t){const e=t.match(og);if(!e)return NaN;const n=An(e[1]),s=An(e[2]),r=An(e[3]);return vg(n,s,r)?n*Ia+s*La+r*1e3:NaN}function An(t){return t&&parseFloat(t.replace(",","."))||0}function dg(t){if(t==="Z")return 0;const e=t.match(ag);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return wg(s,r)?n*(s*Ia+r*La):NaN}function fg(t,e,n){const s=new Date(0);s.setUTCFullYear(t,0,4);const r=s.getUTCDay()||7,i=(e-1)*7+n+1-r;return s.setUTCDate(s.getUTCDate()+i),s}const mg=[31,null,31,30,31,30,31,31,30,31,30,31];function Na(t){return t%400===0||t%4===0&&t%100!==0}function pg(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(mg[e]||(Na(t)?29:28))}function gg(t,e){return e>=1&&e<=(Na(t)?366:365)}function yg(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function vg(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function wg(t,e){return e>=0&&e<=59}function jg(...t){return Nm(t)}function Lg(t,e="MMM dd, yyyy"){const n=typeof t=="string"?Ba(t):t;return tg(n,e)}function Ig(t){const e=typeof t=="string"?Ba(t):t;return rg(e,{addSuffix:!0})}function Vg(t){return t.toLowerCase().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}function $g(t){const n=t.trim().split(/\s+/).length;return Math.ceil(n/200)}function Fg(t,e){let n;return(...s)=>{clearTimeout(n),n=setTimeout(()=>t(...s),e)}}function Ug(t){return t?t.startsWith("http")?t:`https://ttputpllkehhtwqfifxe.supabase.co/storage/v1/object/public/images/${t}`:"/images/placeholder.svg"}function Bg(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function Ng(t){try{return new URL(t),/\.(jpg|jpeg|png|gif|webp)$/i.test(t)||t.includes("unsplash.com")||t.includes("images.")||t.includes("cdn.")}catch{return!1}}function Wg(t){const e=[];return t.length<8&&e.push("Password must be at least 8 characters long"),/[A-Z]/.test(t)||e.push("Password must contain at least one uppercase letter"),/[a-z]/.test(t)||e.push("Password must contain at least one lowercase letter"),/\d/.test(t)||e.push("Password must contain at least one number"),{isValid:e.length===0,errors:e}}function bg(t){return navigator.clipboard.writeText(t).then(()=>!0).catch(()=>!1)}function qg(t){return navigator.share?navigator.share({title:t.title,url:t.url}):bg(t.url)}function Hg(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}export{eo as L,Ko as M,us as P,Mg as a,jg as b,xg as c,Dg as d,Fg as e,Lg as f,Ug as g,Qh as h,jo as i,tl as j,Ig as k,Wg as l,Rg as m,Hg as n,Vg as o,$g as p,Ng as q,qg as s,el as u,Bg as v};
