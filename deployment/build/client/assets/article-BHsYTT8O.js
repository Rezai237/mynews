import{w as L}from"./with-props-DRM106Ts.js";import{v as E,a as i,o as e,t as o}from"./chunk-D4RADZKF-DUJFVFZr.js";import{u as T}from"./articlesStore-C2OzSC6v.js";import{u as R}from"./authStore-CBBhFNwG.js";import{a as $,g as F,m as s,f as I,s as P}from"./utils-Dmsv2dCC.js";import{R as U}from"./RichTextEditor-n2aN1D3D.js";import{C as V,S as H,A as z}from"./ArticleCard-DAKA9Mgc.js";import{L as D}from"./LoadingSpinner-njtnuVwo.js";import{B as y}from"./Button-D7YxVoDp.js";import{V as r}from"./index-BvIfFWLG.js";import{A as u}from"./arrow-left-CB9Wz_nk.js";import{U as p}from"./user-bkK-Sprj.js";import{C as M}from"./calendar-sW80RKu2.js";import{E as G}from"./eye-D66ep1xE.js";import{H as O}from"./heart-BD4QhLHz.js";import{B as Z}from"./bookmark-CtmUuJhp.js";import"./index-BeYXFHcR.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],f=$("message-circle",q);function me({params:d}){return[{title:`Article: ${d.slug} - Techsy.News`},{name:"description",content:"Read the latest technology article on Techsy.News"}]}const xe=L(function(){const{slug:l}=E(),{user:m}=R(),{fetchArticleBySlug:j,incrementViews:b,toggleLike:N}=T(),[a,x]=i.useState(null),[h,k]=i.useState([]),[v,g]=i.useState(!0),[c,w]=i.useState(!1),[n,A]=i.useState(!1);i.useEffect(()=>{l&&C()},[l]);const C=async()=>{if(l){g(!0);try{const t=await j(l);t&&(x(t),await b(t.id),k([]))}catch(t){console.error("Error loading article:",t),r.error("Failed to load article")}finally{g(!1)}}},S=async()=>{if(!m){r.error("Please sign in to like articles");return}if(a)try{await N(a.id),A(!n),x(t=>({...t,likes:n?t.likes-1:t.likes+1}))}catch{r.error("Failed to update like")}},_=()=>{if(!m){r.error("Please sign in to bookmark articles");return}w(!c),r.success(c?"Removed from bookmarks":"Added to bookmarks")},B=async()=>{if(a)try{await P({title:a.title,url:window.location.href}),r.success("Article shared successfully")}catch{r.error("Failed to share article")}};return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(D,{size:"lg"})}):a?e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("div",{className:"relative bg-gray-900 text-white",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("img",{src:F(a.featured_image),alt:a.title,className:"w-full h-full object-cover opacity-50"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/50 to-transparent"})]}),e.jsxs("div",{className:"relative max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[e.jsxs(o,{to:"/",className:"inline-flex items-center text-white/80 hover:text-white mb-8 transition-colors",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Back to Articles"]}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"px-3 py-1 text-sm font-medium text-white rounded-full",style:{backgroundColor:a.category.color},children:a.category.name})}),e.jsx(s.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-5xl font-bold mb-6 leading-tight",children:a.title}),e.jsx(s.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-white/90 mb-8 leading-relaxed",children:a.excerpt}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-wrap items-center gap-6 text-white/80",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[a.author.avatar_url?e.jsx("img",{src:a.author.avatar_url,alt:a.author.full_name,className:"w-8 h-8 rounded-full object-cover"}):e.jsx(p,{className:"w-6 h-6"}),e.jsx("span",{className:"font-medium",children:a.author.full_name})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:I(a.published_at)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(V,{className:"w-4 h-4"}),e.jsxs("span",{children:[a.reading_time," min read"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsxs("span",{children:[a.views," views"]})]})]})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:S,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${n?"bg-red-100 text-red-600 dark:bg-red-900/20 dark:text-red-400":"hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:[e.jsx(O,{className:`w-5 h-5 ${n?"fill-current":""}`}),e.jsx("span",{children:a.likes})]}),e.jsxs("button",{onClick:_,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${c?"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:[e.jsx(Z,{className:`w-5 h-5 ${c?"fill-current":""}`}),e.jsx("span",{children:"Bookmark"})]}),e.jsxs("button",{onClick:B,className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 transition-colors",children:[e.jsx(H,{className:"w-5 h-5"}),e.jsx("span",{children:"Share"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:"0 comments"})]})]}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"prose dark:prose-invert max-w-none",children:e.jsx(U,{content:a.content,onChange:()=>{},editable:!1,className:"border-0"})}),a.tags&&a.tags.length>0&&e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8 pt-8 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map(t=>e.jsxs(o,{to:`/tag/${t.slug}`,className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full text-sm hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:["#",t.name]},t.id))})]}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8 p-6 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[a.author.avatar_url?e.jsx("img",{src:a.author.avatar_url,alt:a.author.full_name,className:"w-16 h-16 rounded-full object-cover"}):e.jsx("div",{className:"w-16 h-16 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:e.jsx(p,{className:"w-8 h-8 text-gray-600 dark:text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:a.author.full_name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Technology writer and industry analyst with expertise in emerging technologies and digital transformation."}),e.jsxs(o,{to:`/author/${a.author.id}`,className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:["View all articles by ",a.author.full_name]})]})]})}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-8",children:"Comments"}),e.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[e.jsx(f,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Comments system coming soon!"})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-24 space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Table of Contents"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Auto-generated TOC coming soon!"})]}),h.length>0&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Related Articles"}),e.jsx("div",{className:"space-y-4",children:h.slice(0,3).map(t=>e.jsx(z,{article:t,variant:"compact"},t.id))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 text-white",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Stay Updated"}),e.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Get the latest tech news delivered to your inbox."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full px-3 py-2 rounded text-gray-900 text-sm"}),e.jsx(y,{variant:"secondary",size:"sm",className:"w-full bg-white text-blue-600 hover:bg-gray-100",children:"Subscribe"})]})]})]})})]})})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Article Not Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"The article you're looking for doesn't exist or has been removed."}),e.jsx(o,{to:"/",children:e.jsxs(y,{children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})]})})});export{xe as default,me as meta};
