import{w as T}from"./with-props-DRM106Ts.js";import{a as x,o as e,t as m}from"./chunk-D4RADZKF-DUJFVFZr.js";import{u as $}from"./authStore-CBBhFNwG.js";import{u as S}from"./articlesStore-C2OzSC6v.js";import{B as y}from"./Button-D7YxVoDp.js";import{L as C}from"./LoadingSpinner-njtnuVwo.js";import{n as d,m as o}from"./utils-Dmsv2dCC.js";import{F as g,C as V,U as D}from"./users-DpUEI1LK.js";import{E as L}from"./eye-D66ep1xE.js";import{T as u}from"./trending-up-60w_rjpJ.js";import{H as U}from"./heart-BD4QhLHz.js";import{P as E}from"./plus-vaOFuVxj.js";import{F}from"./folder-ClYMstKx.js";import{T as M}from"./tag-DO6hg1IZ.js";import{M as P}from"./message-square-DrCx0BaE.js";import{S as _}from"./settings-B96QZ12n.js";import{C as z}from"./calendar-sW80RKu2.js";function ie({}){return[{title:"Admin Dashboard - Techsy.News"},{name:"description",content:"Admin dashboard for managing Techsy.News"}]}const le=T(function(){const{user:b,profile:a}=$(),{articles:i,categories:q,loading:f,fetchAllArticles:h}=S(),[r,j]=x.useState({totalArticles:0,publishedArticles:0,draftArticles:0,totalViews:0,totalLikes:0,totalUsers:0,publishedToday:0});if(x.useEffect(()=>{h()},[h]),x.useEffect(()=>{if(i.length>0){const t=i.filter(s=>s.status==="published"),l=i.filter(s=>s.status==="draft"),c=t.reduce((s,n)=>s+n.views,0),w=t.reduce((s,n)=>s+n.likes,0),v=new Date().toDateString(),A=t.filter(s=>s.published_at&&new Date(s.published_at).toDateString()===v).length;j({totalArticles:i.length,publishedArticles:t.length,draftArticles:l.length,totalViews:c,totalLikes:w,totalUsers:1250,publishedToday:A})}},[i]),!b||(a==null?void 0:a.role)!=="admin")return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You don't have permission to access the admin dashboard."})]})});const N=[{title:"Total Articles",value:d(r.totalArticles),subtitle:`${r.publishedArticles} published, ${r.draftArticles} drafts`,icon:g,color:"blue",change:"+12%"},{title:"Published Articles",value:d(r.publishedArticles),subtitle:`${r.publishedToday} published today`,icon:L,color:"green",change:"+8%"},{title:"Total Views",value:d(r.totalViews),subtitle:"From published articles",icon:u,color:"purple",change:"+15%"},{title:"Total Likes",value:d(r.totalLikes),subtitle:"User engagement",icon:U,color:"red",change:"+5%"}],k=[{title:"New Article",description:"Create a new article",icon:E,href:"/admin/articles/new",color:"blue"},{title:"Manage Articles",description:"View and edit all articles",icon:g,href:"/admin/articles",color:"indigo"},{title:"Manage Categories",description:"Add or edit categories",icon:F,href:"/admin/categories",color:"green"},{title:"Manage Tags",description:"Add or edit tags",icon:M,href:"/admin/tags",color:"yellow"},{title:"Analytics",description:"View detailed analytics",icon:V,href:"/admin/analytics",color:"purple"},{title:"Comments",description:"Moderate comments",icon:P,href:"/admin/comments",color:"orange"},{title:"Settings",description:"Site configuration",icon:_,href:"/admin/settings",color:"gray"}],p=i.slice(0,5);return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Admin Dashboard"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Welcome back, ",a==null?void 0:a.full_name,". Here's what's happening with your site."]})]}),f?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(C,{size:"lg"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:N.map((t,l)=>{const c=t.icon;return e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:t.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.value}),t.subtitle&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:t.subtitle}),e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 mt-1",children:[t.change," from last month"]})]}),e.jsx("div",{className:`p-3 rounded-lg bg-${t.color}-100 dark:bg-${t.color}-900/20`,children:e.jsx(c,{className:`w-6 h-6 text-${t.color}-600 dark:text-${t.color}-400`})})]})},t.title)})}),e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700 mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(t=>{const l=t.icon;return e.jsx(m,{to:t.href,className:"group p-4 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-600 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-${t.color}-100 dark:bg-${t.color}-900/20 group-hover:bg-${t.color}-200 dark:group-hover:bg-${t.color}-900/30 transition-colors`,children:e.jsx(l,{className:`w-5 h-5 text-${t.color}-600 dark:text-${t.color}-400`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description})]})]})},t.title)})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recent Articles"}),e.jsx(m,{to:"/admin/articles",children:e.jsx(y,{variant:"outline",size:"sm",children:"View All"})})]}),e.jsx("div",{className:"space-y-4",children:p.length>0?p.map(t=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("img",{src:t.featured_image||"/images/placeholder.svg",alt:t.title,className:"w-12 h-12 rounded object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:t.title}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[t.author.full_name," â€¢ ",t.views," views"]})]}),e.jsx("div",{className:"flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:e.jsx("span",{className:`px-2 py-1 rounded-full ${t.status==="published"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"}`,children:t.status})})]},t.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(g,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No articles yet"})]})})]}),e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Analytics Overview"}),e.jsx(m,{to:"/admin/analytics",children:e.jsx(y,{variant:"outline",size:"sm",children:"View Details"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:e.jsx(u,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Page Views Today"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"+12% from yesterday"})]})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"2,847"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:e.jsx(D,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"New Users Today"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"+8% from yesterday"})]})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"127"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:e.jsx(z,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Articles This Week"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"+3 from last week"})]})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"12"})]})]})]})]})]})]})})});export{le as default,ie as meta};
